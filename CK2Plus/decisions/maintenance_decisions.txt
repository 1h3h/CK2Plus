decisions = {
	ai_estates_income = {
		potential = {
			ai = yes
			is_ruler = no
			OR = {
				has_character_modifier = estates_1
				has_character_modifier = estates_2
				has_character_modifier = estates_3
				has_character_modifier = estates_4
				has_character_modifier = estates_5
			}
			OR = {
				NOT = { has_character_flag = estates_income }
				had_character_flag = {
					flag = estates_income
					days = 365
				}
			}
		}
		allow = { }
		effect = {
			clr_character_flag = estates_income
			set_character_flag = estates_income
			if = {
				limit = {
					has_character_modifier = estates_1
				}
				wealth = 1
			}
			if = {
				limit = {
					has_character_modifier = estates_2
				}
				wealth = 2
			}		
			if = {
				limit = {
					has_character_modifier = estates_3
				}
				wealth = 3
			}		
			if = {
				limit = {
					has_character_modifier = estates_4
				}
				wealth = 4
			}
			if = {
				limit = {
					has_character_modifier = estates_5
				}
				wealth = 5
			}			
		}
		ai_will_do = {
			factor = 100
		}
	}
	ai_maintenance = {
		potential = {
			has_landed_title = e_papal_state
			OR = {
				NOT = { has_global_flag = maintenance_pulse }
				had_global_flag = {
					flag = maintenance_pulse
					days = 365
				}
			}
		}
		allow = { }
		effect = {
			clr_global_flag = maintenance_pulse
			set_global_flag = maintenance_pulse
			if = {
				limit = {
					NOT = { has_landed_title = c_roma }
					NOT = { has_global_flag = papacy_lost }
				}
				set_global_flag = papacy_lost
			}
			if = {
				limit = {
					has_landed_title = c_roma
					has_global_flag = papacy_lost
				}
				clr_global_flag = papacy_lost
			}	
			#contingent territory
			character_event = { id = 110070 }
			#misc fixes
			any_playable_ruler = {
				if = {
					limit = { trait = immortal2 }
					remove_trait = immortal2
					add_trait = immortal
				}			
				if = {
					limit = {
						primary_title = { has_law = council_privileges_0 }
						has_character_flag = lifetime_appointments
					}	
					clr_character_flag = lifetime_appointments	
				}
				if = {
					limit = {
						primary_title = { has_law = council_privileges_1 }
						NOT = { has_character_flag = lifetime_appointments }
					}	
					set_character_flag = lifetime_appointments	
				}	
				if = {
					limit = {
						primary_title = { has_law = levy_privileges_1 }
						has_character_flag = max_levies
					}	
					clr_character_flag = max_levies
				}
				if = {
					limit = {
						primary_title = { has_law = levy_privileges_0 }
						NOT = { has_character_flag = max_levies }
					}	
					set_character_flag = max_levies
				}				
				if = {
					limit = {
						primary_title = { has_law = tax_privileges_0 }
					}
					any_vassal = {
						limit = {
							OR = {
								NOT = { has_character_modifier = tax_privileges_0_vassal }
								has_character_modifier = tax_privileges_2_vassal
							}
						}
						add_character_modifier = { name = "tax_privileges_0_vassal" duration = -1 }
						remove_character_modifier = tax_privileges_2_vassal
					}
				}
				if = {
					limit = {
						primary_title = { has_law = tax_privileges_1 }
					}
					any_vassal = {
						limit = {
							OR = {
								has_character_modifier = tax_privileges_0_vassal
								has_character_modifier = tax_privileges_2_vassal
							}
						}
						remove_character_modifier = tax_privileges_0_vassal
						remove_character_modifier = tax_privileges_2_vassal
					}
				}	
				if = {
					limit = {
						primary_title = { has_law = tax_privileges_2 }
					}
					any_vassal = {
						limit = {
							OR = {
							    has_character_modifier = tax_privileges_0_vassal
								NOT = { has_character_modifier = tax_privileges_2_vassal }
							}
						}
						remove_character_modifier = tax_privileges_0_vassal
						add_character_modifier = { name = "tax_privileges_2_vassal" duration = -1 }
					}
				}				
			}
			#realm size
			any_playable_ruler = {
				set_variable = { which = "realm_size" value = 0 }
				any_demesne_title = {
					limit = { tier = baron }
					holder_scope = {
						change_variable = { which = "realm_size" value = 1 } 
					}					
				}
				any_realm_lord = {
					limit = { is_liege_or_above = PREV }
					any_demesne_title = {
						limit = { tier = baron }
						holder_scope = {
							PREV = {
								PREV = {
									PREV = {
										change_variable = { which = "realm_size" value = 1 } 
									}
								}
							}
						}					
					}				
				}
				character_event = { id = 110033 }
			}
			#separatist sentiment
			any_playable_ruler = {
				limit = { check_variable = { which = "separatist_sentiment" value = 0.05 } }
				change_variable = { which = "separatist_sentiment" value = -0.25 }
			}
			#faction system
			any_playable_ruler = {
				#reset variables
				set_variable = { which = "total_faction_mood_feudal" value = 0 }
				set_variable = { which = "total_faction_mood_court" value = 0 }
				set_variable = { which = "total_faction_mood_republican" value = 0 }
				set_variable = { which = "total_faction_mood_religious" value = 0 }
				set_variable = { which = "faction_relations_feudal" value = 0 }
				set_variable = { which = "faction_relations_court" value = 0 }
				set_variable = { which = "faction_relations_republican" value = 0 }
				set_variable = { which = "faction_relations_religious" value = 0 }				
				set_variable = { which = "faction_members_feudal" value = 0 }
				set_variable = { which = "faction_members_court" value = 0 }
				set_variable = { which = "faction_members_republican" value = 0 }
				set_variable = { which = "faction_members_religious" value = 0 }
				#cleanup flags
				if = {
					limit = { 
						war = no 
						OR = {
							has_character_flag = faction_feudal_war
							has_character_flag = faction_republican_war
							has_character_flag = faction_religious_war
							has_character_flag = faction_court_war
							has_character_flag = faction_pretender_war
							has_character_flag = faction_separatist_war
						}					
					}
					clr_character_flag = faction_feudal_war
					clr_character_flag = faction_republican_war
					clr_character_flag = faction_religious_war
					clr_character_flag = faction_court_war
					clr_character_flag = faction_pretender_war
					clr_character_flag = faction_separatist_war
				}
			}
			any_independent_ruler = {
				#count members of each faction
				any_realm_lord = {
					limit = { higher_tier_than = baron }	
					if = {
						limit = {
							OR = {
								leads_faction = faction_feudal_emperor
								leads_faction = faction_feudal_king
								leads_faction = faction_feudal_duke
								in_faction = faction_feudal_emperor
								in_faction = faction_feudal_king
								in_faction = faction_feudal_duke
							}
						}						
						liege = { change_variable = { which = "faction_members_feudal" value = 1 } }
					}
					if = {
						limit = {
							OR = {
								leads_faction = faction_court_emperor
								leads_faction = faction_court_king
								leads_faction = faction_court_duke
								in_faction = faction_court_emperor
								in_faction = faction_court_king
								in_faction = faction_court_duke
							}
						}						
						liege = { change_variable = { which = "faction_members_court" value = 1 } }
					}
					if = {
						limit = {
							OR = {
								leads_faction = faction_republican_emperor
								leads_faction = faction_republican_king
								leads_faction = faction_republican_duke
								in_faction = faction_republican_emperor
								in_faction = faction_republican_king
								in_faction = faction_republican_duke
							}
						}						
						liege = { change_variable = { which = "faction_members_republican" value = 1 } }
					}
					if = {
						limit = {
							OR = {
								leads_faction = faction_religious_emperor
								leads_faction = faction_religious_king
								leads_faction = faction_religious_duke
								in_faction = faction_religious_emperor
								in_faction = faction_religious_king
								in_faction = faction_religious_duke
							}
						}						
						liege = { change_variable = { which = "faction_members_religious" value = 1 } }
					}					
				}		
				#faction moods
				any_realm_lord = {
					limit = { higher_tier_than = baron }
					#feudal	
					if = {
						limit = {
							OR = {
								leads_faction = faction_feudal_emperor
								leads_faction = faction_feudal_king
								leads_faction = faction_feudal_duke
								in_faction = faction_feudal_emperor
								in_faction = faction_feudal_king
								in_faction = faction_feudal_duke
							}
						}	
						#relations							
						if = {
							limit = {
								NOT = { opinion = { who = liege value = -75 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_feudal" value = 0.5 } 
										NOT = { check_variable = { which = "faction_members_feudal" value = 1.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_feudal" value = -2.5 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_feudal" value = 1.5 } 
										NOT = { check_variable = { which = "faction_members_feudal" value = 2.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_feudal" value = -1.25 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_feudal" value = 2.5 } 
										NOT = { check_variable = { which = "faction_members_feudal" value = 3.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_feudal" value = -0.83 } }
							}	
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_feudal" value = 3.5 } 
										NOT = { check_variable = { which = "faction_members_feudal" value = 4.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_feudal" value = -0.62 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_feudal" value = 4.5 } 
										NOT = { check_variable = { which = "faction_members_feudal" value = 5.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_feudal" value = -0.5 } }
							}	
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_feudal" value = 5.5 } 
										NOT = { check_variable = { which = "faction_members_feudal" value = 6.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_feudal" value = -0.41 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_feudal" value = 6.5 } 
										NOT = { check_variable = { which = "faction_members_feudal" value = 7.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_feudal" value = -0.35 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_feudal" value = 7.5 } 
										NOT = { check_variable = { which = "faction_members_feudal" value = 8.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_feudal" value = -0.31 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_feudal" value = 7.5 } 
										NOT = { check_variable = { which = "faction_members_feudal" value = 8.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_feudal" value = -0.27 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_feudal" value = 9.5 }
									}
								}
								liege = { change_variable = { which = "faction_relations_feudal" value = -0.25 } }
							}							
						}
						if = {
							limit = {
								NOT = { opinion = { who = liege value = -50 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_feudal" value = 0.5 } 
										NOT = { check_variable = { which = "faction_members_feudal" value = 1.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_feudal" value = -2.5 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_feudal" value = 1.5 } 
										NOT = { check_variable = { which = "faction_members_feudal" value = 2.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_feudal" value = -1.25 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_feudal" value = 2.5 } 
										NOT = { check_variable = { which = "faction_members_feudal" value = 3.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_feudal" value = -0.83 } }
							}	
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_feudal" value = 3.5 } 
										NOT = { check_variable = { which = "faction_members_feudal" value = 4.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_feudal" value = -0.62 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_feudal" value = 4.5 } 
										NOT = { check_variable = { which = "faction_members_feudal" value = 5.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_feudal" value = -0.5 } }
							}	
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_feudal" value = 5.5 } 
										NOT = { check_variable = { which = "faction_members_feudal" value = 6.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_feudal" value = -0.41 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_feudal" value = 6.5 } 
										NOT = { check_variable = { which = "faction_members_feudal" value = 7.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_feudal" value = -0.35 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_feudal" value = 7.5 } 
										NOT = { check_variable = { which = "faction_members_feudal" value = 8.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_feudal" value = -0.31 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_feudal" value = 7.5 } 
										NOT = { check_variable = { which = "faction_members_feudal" value = 8.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_feudal" value = -0.27 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_feudal" value = 9.5 }
									}
								}
								liege = { change_variable = { which = "faction_relations_feudal" value = -0.25 } }
							}							
						}						
						if = {
							limit = {
								NOT = { opinion = { who = liege value = -25 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_feudal" value = 0.5 } 
										NOT = { check_variable = { which = "faction_members_feudal" value = 1.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_feudal" value = -2.5 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_feudal" value = 1.5 } 
										NOT = { check_variable = { which = "faction_members_feudal" value = 2.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_feudal" value = -1.25 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_feudal" value = 2.5 } 
										NOT = { check_variable = { which = "faction_members_feudal" value = 3.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_feudal" value = -0.83 } }
							}	
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_feudal" value = 3.5 } 
										NOT = { check_variable = { which = "faction_members_feudal" value = 4.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_feudal" value = -0.62 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_feudal" value = 4.5 } 
										NOT = { check_variable = { which = "faction_members_feudal" value = 5.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_feudal" value = -0.5 } }
							}	
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_feudal" value = 5.5 } 
										NOT = { check_variable = { which = "faction_members_feudal" value = 6.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_feudal" value = -0.41 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_feudal" value = 6.5 } 
										NOT = { check_variable = { which = "faction_members_feudal" value = 7.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_feudal" value = -0.35 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_feudal" value = 7.5 } 
										NOT = { check_variable = { which = "faction_members_feudal" value = 8.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_feudal" value = -0.31 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_feudal" value = 7.5 } 
										NOT = { check_variable = { which = "faction_members_feudal" value = 8.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_feudal" value = -0.27 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_feudal" value = 9.5 }
									}
								}
								liege = { change_variable = { which = "faction_relations_feudal" value = -0.25 } }
							}
						}						
						if = {
							limit = {
								NOT = { opinion = { who = liege value = 0 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_feudal" value = 0.5 } 
										NOT = { check_variable = { which = "faction_members_feudal" value = 1.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_feudal" value = -2.5 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_feudal" value = 1.5 } 
										NOT = { check_variable = { which = "faction_members_feudal" value = 2.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_feudal" value = -1.25 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_feudal" value = 2.5 } 
										NOT = { check_variable = { which = "faction_members_feudal" value = 3.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_feudal" value = -0.83 } }
							}	
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_feudal" value = 3.5 } 
										NOT = { check_variable = { which = "faction_members_feudal" value = 4.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_feudal" value = -0.62 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_feudal" value = 4.5 } 
										NOT = { check_variable = { which = "faction_members_feudal" value = 5.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_feudal" value = -0.5 } }
							}	
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_feudal" value = 5.5 } 
										NOT = { check_variable = { which = "faction_members_feudal" value = 6.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_feudal" value = -0.41 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_feudal" value = 6.5 } 
										NOT = { check_variable = { which = "faction_members_feudal" value = 7.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_feudal" value = -0.35 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_feudal" value = 7.5 } 
										NOT = { check_variable = { which = "faction_members_feudal" value = 8.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_feudal" value = -0.31 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_feudal" value = 7.5 } 
										NOT = { check_variable = { which = "faction_members_feudal" value = 8.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_feudal" value = -0.27 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_feudal" value = 9.5 }
									}
								}
								liege = { change_variable = { which = "faction_relations_feudal" value = -0.25 } }
							}
						}	
						if = {
							limit = {
								opinion = { who = liege value = 25 }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_feudal" value = 0.5 } 
										NOT = { check_variable = { which = "faction_members_feudal" value = 1.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_feudal" value = 2.5 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_feudal" value = 1.5 } 
										NOT = { check_variable = { which = "faction_members_feudal" value = 2.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_feudal" value = 1.25 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_feudal" value = 2.5 } 
										NOT = { check_variable = { which = "faction_members_feudal" value = 3.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_feudal" value = 0.83 } }
							}	
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_feudal" value = 3.5 } 
										NOT = { check_variable = { which = "faction_members_feudal" value = 4.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_feudal" value = 0.62 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_feudal" value = 4.5 } 
										NOT = { check_variable = { which = "faction_members_feudal" value = 5.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_feudal" value = 0.5 } }
							}	
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_feudal" value = 5.5 } 
										NOT = { check_variable = { which = "faction_members_feudal" value = 6.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_feudal" value = 0.41 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_feudal" value = 6.5 } 
										NOT = { check_variable = { which = "faction_members_feudal" value = 7.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_feudal" value = 0.35 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_feudal" value = 7.5 } 
										NOT = { check_variable = { which = "faction_members_feudal" value = 8.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_feudal" value = 0.31 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_feudal" value = 7.5 } 
										NOT = { check_variable = { which = "faction_members_feudal" value = 8.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_feudal" value = 0.27 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_feudal" value = 9.5 }
									}
								}
								liege = { change_variable = { which = "faction_relations_feudal" value = 0.25 } }
							}
						}							
						if = {
							limit = {
								opinion = { who = liege value = 50 }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_feudal" value = 0.5 } 
										NOT = { check_variable = { which = "faction_members_feudal" value = 1.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_feudal" value = 2.5 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_feudal" value = 1.5 } 
										NOT = { check_variable = { which = "faction_members_feudal" value = 2.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_feudal" value = 1.25 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_feudal" value = 2.5 } 
										NOT = { check_variable = { which = "faction_members_feudal" value = 3.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_feudal" value = 0.83 } }
							}	
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_feudal" value = 3.5 } 
										NOT = { check_variable = { which = "faction_members_feudal" value = 4.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_feudal" value = 0.62 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_feudal" value = 4.5 } 
										NOT = { check_variable = { which = "faction_members_feudal" value = 5.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_feudal" value = 0.5 } }
							}	
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_feudal" value = 5.5 } 
										NOT = { check_variable = { which = "faction_members_feudal" value = 6.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_feudal" value = 0.41 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_feudal" value = 6.5 } 
										NOT = { check_variable = { which = "faction_members_feudal" value = 7.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_feudal" value = 0.35 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_feudal" value = 7.5 } 
										NOT = { check_variable = { which = "faction_members_feudal" value = 8.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_feudal" value = 0.31 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_feudal" value = 7.5 } 
										NOT = { check_variable = { which = "faction_members_feudal" value = 8.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_feudal" value = 0.27 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_feudal" value = 9.5 }
									}
								}
								liege = { change_variable = { which = "faction_relations_feudal" value = 0.25 } }
							}
						}							
						if = {
							limit = {
								opinion = { who = liege value = 75 }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_feudal" value = 0.5 } 
										NOT = { check_variable = { which = "faction_members_feudal" value = 1.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_feudal" value = 2.5 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_feudal" value = 1.5 } 
										NOT = { check_variable = { which = "faction_members_feudal" value = 2.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_feudal" value = 1.25 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_feudal" value = 2.5 } 
										NOT = { check_variable = { which = "faction_members_feudal" value = 3.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_feudal" value = 0.83 } }
							}	
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_feudal" value = 3.5 } 
										NOT = { check_variable = { which = "faction_members_feudal" value = 4.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_feudal" value = 0.62 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_feudal" value = 4.5 } 
										NOT = { check_variable = { which = "faction_members_feudal" value = 5.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_feudal" value = 0.5 } }
							}	
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_feudal" value = 5.5 } 
										NOT = { check_variable = { which = "faction_members_feudal" value = 6.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_feudal" value = 0.41 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_feudal" value = 6.5 } 
										NOT = { check_variable = { which = "faction_members_feudal" value = 7.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_feudal" value = 0.35 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_feudal" value = 7.5 } 
										NOT = { check_variable = { which = "faction_members_feudal" value = 8.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_feudal" value = 0.31 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_feudal" value = 7.5 } 
										NOT = { check_variable = { which = "faction_members_feudal" value = 8.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_feudal" value = 0.27 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_feudal" value = 9.5 }
									}
								}
								liege = { change_variable = { which = "faction_relations_feudal" value = 0.25 } }
							}
						}	
						if = {
							limit = {
								opinion = { who = liege value = 100 }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_feudal" value = 0.5 } 
										NOT = { check_variable = { which = "faction_members_feudal" value = 1.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_feudal" value = 2.5 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_feudal" value = 1.5 } 
										NOT = { check_variable = { which = "faction_members_feudal" value = 2.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_feudal" value = 1.25 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_feudal" value = 2.5 } 
										NOT = { check_variable = { which = "faction_members_feudal" value = 3.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_feudal" value = 0.83 } }
							}	
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_feudal" value = 3.5 } 
										NOT = { check_variable = { which = "faction_members_feudal" value = 4.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_feudal" value = 0.62 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_feudal" value = 4.5 } 
										NOT = { check_variable = { which = "faction_members_feudal" value = 5.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_feudal" value = 0.5 } }
							}	
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_feudal" value = 5.5 } 
										NOT = { check_variable = { which = "faction_members_feudal" value = 6.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_feudal" value = 0.41 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_feudal" value = 6.5 } 
										NOT = { check_variable = { which = "faction_members_feudal" value = 7.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_feudal" value = 0.35 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_feudal" value = 7.5 } 
										NOT = { check_variable = { which = "faction_members_feudal" value = 8.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_feudal" value = 0.31 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_feudal" value = 7.5 } 
										NOT = { check_variable = { which = "faction_members_feudal" value = 8.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_feudal" value = 0.27 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_feudal" value = 9.5 }
									}
								}
								liege = { change_variable = { which = "faction_relations_feudal" value = 0.25 } }
							}
						}					
					}
					#court	
					if = {
						limit = {
							OR = {
								leads_faction = faction_court_emperor
								leads_faction = faction_court_king
								leads_faction = faction_court_duke
								in_faction = faction_court_emperor
								in_faction = faction_court_king
								in_faction = faction_court_duke								
							}	
						}				
						#relations							
						if = {
							limit = {
								NOT = { opinion = { who = liege value = -75 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_court" value = 0.5 } 
										NOT = { check_variable = { which = "faction_members_court" value = 1.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_court" value = -2.5 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_court" value = 1.5 } 
										NOT = { check_variable = { which = "faction_members_court" value = 2.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_court" value = -1.25 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_court" value = 2.5 } 
										NOT = { check_variable = { which = "faction_members_court" value = 3.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_court" value = -0.83 } }
							}	
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_court" value = 3.5 } 
										NOT = { check_variable = { which = "faction_members_court" value = 4.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_court" value = -0.62 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_court" value = 4.5 } 
										NOT = { check_variable = { which = "faction_members_court" value = 5.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_court" value = -0.5 } }
							}	
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_court" value = 5.5 } 
										NOT = { check_variable = { which = "faction_members_court" value = 6.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_court" value = -0.41 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_court" value = 6.5 } 
										NOT = { check_variable = { which = "faction_members_court" value = 7.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_court" value = -0.35 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_court" value = 7.5 } 
										NOT = { check_variable = { which = "faction_members_court" value = 8.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_court" value = -0.31 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_court" value = 7.5 } 
										NOT = { check_variable = { which = "faction_members_court" value = 8.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_court" value = -0.27 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_court" value = 9.5 }
									}
								}
								liege = { change_variable = { which = "faction_relations_court" value = -0.25 } }
							}							
						}
						if = {
							limit = {
								NOT = { opinion = { who = liege value = -50 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_court" value = 0.5 } 
										NOT = { check_variable = { which = "faction_members_court" value = 1.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_court" value = -2.5 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_court" value = 1.5 } 
										NOT = { check_variable = { which = "faction_members_court" value = 2.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_court" value = -1.25 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_court" value = 2.5 } 
										NOT = { check_variable = { which = "faction_members_court" value = 3.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_court" value = -0.83 } }
							}	
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_court" value = 3.5 } 
										NOT = { check_variable = { which = "faction_members_court" value = 4.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_court" value = -0.62 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_court" value = 4.5 } 
										NOT = { check_variable = { which = "faction_members_court" value = 5.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_court" value = -0.5 } }
							}	
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_court" value = 5.5 } 
										NOT = { check_variable = { which = "faction_members_court" value = 6.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_court" value = -0.41 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_court" value = 6.5 } 
										NOT = { check_variable = { which = "faction_members_court" value = 7.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_court" value = -0.35 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_court" value = 7.5 } 
										NOT = { check_variable = { which = "faction_members_court" value = 8.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_court" value = -0.31 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_court" value = 7.5 } 
										NOT = { check_variable = { which = "faction_members_court" value = 8.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_court" value = -0.27 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_court" value = 9.5 }
									}
								}
								liege = { change_variable = { which = "faction_relations_court" value = -0.25 } }
							}							
						}						
						if = {
							limit = {
								NOT = { opinion = { who = liege value = -25 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_court" value = 0.5 } 
										NOT = { check_variable = { which = "faction_members_court" value = 1.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_court" value = -2.5 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_court" value = 1.5 } 
										NOT = { check_variable = { which = "faction_members_court" value = 2.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_court" value = -1.25 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_court" value = 2.5 } 
										NOT = { check_variable = { which = "faction_members_court" value = 3.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_court" value = -0.83 } }
							}	
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_court" value = 3.5 } 
										NOT = { check_variable = { which = "faction_members_court" value = 4.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_court" value = -0.62 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_court" value = 4.5 } 
										NOT = { check_variable = { which = "faction_members_court" value = 5.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_court" value = -0.5 } }
							}	
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_court" value = 5.5 } 
										NOT = { check_variable = { which = "faction_members_court" value = 6.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_court" value = -0.41 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_court" value = 6.5 } 
										NOT = { check_variable = { which = "faction_members_court" value = 7.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_court" value = -0.35 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_court" value = 7.5 } 
										NOT = { check_variable = { which = "faction_members_court" value = 8.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_court" value = -0.31 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_court" value = 7.5 } 
										NOT = { check_variable = { which = "faction_members_court" value = 8.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_court" value = -0.27 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_court" value = 9.5 }
									}
								}
								liege = { change_variable = { which = "faction_relations_court" value = -0.25 } }
							}
						}						
						if = {
							limit = {
								NOT = { opinion = { who = liege value = 0 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_court" value = 0.5 } 
										NOT = { check_variable = { which = "faction_members_court" value = 1.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_court" value = -2.5 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_court" value = 1.5 } 
										NOT = { check_variable = { which = "faction_members_court" value = 2.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_court" value = -1.25 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_court" value = 2.5 } 
										NOT = { check_variable = { which = "faction_members_court" value = 3.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_court" value = -0.83 } }
							}	
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_court" value = 3.5 } 
										NOT = { check_variable = { which = "faction_members_court" value = 4.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_court" value = -0.62 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_court" value = 4.5 } 
										NOT = { check_variable = { which = "faction_members_court" value = 5.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_court" value = -0.5 } }
							}	
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_court" value = 5.5 } 
										NOT = { check_variable = { which = "faction_members_court" value = 6.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_court" value = -0.41 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_court" value = 6.5 } 
										NOT = { check_variable = { which = "faction_members_court" value = 7.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_court" value = -0.35 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_court" value = 7.5 } 
										NOT = { check_variable = { which = "faction_members_court" value = 8.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_court" value = -0.31 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_court" value = 7.5 } 
										NOT = { check_variable = { which = "faction_members_court" value = 8.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_court" value = -0.27 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_court" value = 9.5 }
									}
								}
								liege = { change_variable = { which = "faction_relations_court" value = -0.25 } }
							}
						}	
						if = {
							limit = {
								opinion = { who = liege value = 25 }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_court" value = 0.5 } 
										NOT = { check_variable = { which = "faction_members_court" value = 1.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_court" value = 2.5 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_court" value = 1.5 } 
										NOT = { check_variable = { which = "faction_members_court" value = 2.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_court" value = 1.25 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_court" value = 2.5 } 
										NOT = { check_variable = { which = "faction_members_court" value = 3.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_court" value = 0.83 } }
							}	
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_court" value = 3.5 } 
										NOT = { check_variable = { which = "faction_members_court" value = 4.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_court" value = 0.62 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_court" value = 4.5 } 
										NOT = { check_variable = { which = "faction_members_court" value = 5.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_court" value = 0.5 } }
							}	
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_court" value = 5.5 } 
										NOT = { check_variable = { which = "faction_members_court" value = 6.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_court" value = 0.41 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_court" value = 6.5 } 
										NOT = { check_variable = { which = "faction_members_court" value = 7.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_court" value = 0.35 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_court" value = 7.5 } 
										NOT = { check_variable = { which = "faction_members_court" value = 8.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_court" value = 0.31 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_court" value = 7.5 } 
										NOT = { check_variable = { which = "faction_members_court" value = 8.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_court" value = 0.27 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_court" value = 9.5 }
									}
								}
								liege = { change_variable = { which = "faction_relations_court" value = 0.25 } }
							}
						}							
						if = {
							limit = {
								opinion = { who = liege value = 50 }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_court" value = 0.5 } 
										NOT = { check_variable = { which = "faction_members_court" value = 1.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_court" value = 2.5 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_court" value = 1.5 } 
										NOT = { check_variable = { which = "faction_members_court" value = 2.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_court" value = 1.25 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_court" value = 2.5 } 
										NOT = { check_variable = { which = "faction_members_court" value = 3.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_court" value = 0.83 } }
							}	
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_court" value = 3.5 } 
										NOT = { check_variable = { which = "faction_members_court" value = 4.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_court" value = 0.62 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_court" value = 4.5 } 
										NOT = { check_variable = { which = "faction_members_court" value = 5.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_court" value = 0.5 } }
							}	
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_court" value = 5.5 } 
										NOT = { check_variable = { which = "faction_members_court" value = 6.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_court" value = 0.41 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_court" value = 6.5 } 
										NOT = { check_variable = { which = "faction_members_court" value = 7.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_court" value = 0.35 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_court" value = 7.5 } 
										NOT = { check_variable = { which = "faction_members_court" value = 8.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_court" value = 0.31 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_court" value = 7.5 } 
										NOT = { check_variable = { which = "faction_members_court" value = 8.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_court" value = 0.27 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_court" value = 9.5 }
									}
								}
								liege = { change_variable = { which = "faction_relations_court" value = 0.25 } }
							}
						}							
						if = {
							limit = {
								opinion = { who = liege value = 75 }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_court" value = 0.5 } 
										NOT = { check_variable = { which = "faction_members_court" value = 1.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_court" value = 2.5 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_court" value = 1.5 } 
										NOT = { check_variable = { which = "faction_members_court" value = 2.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_court" value = 1.25 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_court" value = 2.5 } 
										NOT = { check_variable = { which = "faction_members_court" value = 3.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_court" value = 0.83 } }
							}	
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_court" value = 3.5 } 
										NOT = { check_variable = { which = "faction_members_court" value = 4.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_court" value = 0.62 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_court" value = 4.5 } 
										NOT = { check_variable = { which = "faction_members_court" value = 5.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_court" value = 0.5 } }
							}	
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_court" value = 5.5 } 
										NOT = { check_variable = { which = "faction_members_court" value = 6.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_court" value = 0.41 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_court" value = 6.5 } 
										NOT = { check_variable = { which = "faction_members_court" value = 7.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_court" value = 0.35 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_court" value = 7.5 } 
										NOT = { check_variable = { which = "faction_members_court" value = 8.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_court" value = 0.31 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_court" value = 7.5 } 
										NOT = { check_variable = { which = "faction_members_court" value = 8.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_court" value = 0.27 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_court" value = 9.5 }
									}
								}
								liege = { change_variable = { which = "faction_relations_court" value = 0.25 } }
							}
						}	
						if = {
							limit = {
								opinion = { who = liege value = 100 }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_court" value = 0.5 } 
										NOT = { check_variable = { which = "faction_members_court" value = 1.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_court" value = 2.5 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_court" value = 1.5 } 
										NOT = { check_variable = { which = "faction_members_court" value = 2.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_court" value = 1.25 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_court" value = 2.5 } 
										NOT = { check_variable = { which = "faction_members_court" value = 3.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_court" value = 0.83 } }
							}	
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_court" value = 3.5 } 
										NOT = { check_variable = { which = "faction_members_court" value = 4.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_court" value = 0.62 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_court" value = 4.5 } 
										NOT = { check_variable = { which = "faction_members_court" value = 5.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_court" value = 0.5 } }
							}	
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_court" value = 5.5 } 
										NOT = { check_variable = { which = "faction_members_court" value = 6.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_court" value = 0.41 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_court" value = 6.5 } 
										NOT = { check_variable = { which = "faction_members_court" value = 7.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_court" value = 0.35 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_court" value = 7.5 } 
										NOT = { check_variable = { which = "faction_members_court" value = 8.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_court" value = 0.31 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_court" value = 7.5 } 
										NOT = { check_variable = { which = "faction_members_court" value = 8.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_court" value = 0.27 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_court" value = 9.5 }
									}
								}
								liege = { change_variable = { which = "faction_relations_court" value = 0.25 } }
							}
						}					
					}					
					#republican	
					if = {
						limit = {
							OR = {
								leads_faction = faction_republican_emperor
								leads_faction = faction_republican_king
								leads_faction = faction_republican_duke
								in_faction = faction_republican_emperor
								in_faction = faction_republican_king
								in_faction = faction_republican_duke
							}
						}					
						#relations							
						if = {
							limit = {
								NOT = { opinion = { who = liege value = -75 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_republican" value = 0.5 } 
										NOT = { check_variable = { which = "faction_members_republican" value = 1.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_republican" value = -2.5 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_republican" value = 1.5 } 
										NOT = { check_variable = { which = "faction_members_republican" value = 2.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_republican" value = -1.25 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_republican" value = 2.5 } 
										NOT = { check_variable = { which = "faction_members_republican" value = 3.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_republican" value = -0.83 } }
							}	
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_republican" value = 3.5 } 
										NOT = { check_variable = { which = "faction_members_republican" value = 4.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_republican" value = -0.62 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_republican" value = 4.5 } 
										NOT = { check_variable = { which = "faction_members_republican" value = 5.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_republican" value = -0.5 } }
							}	
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_republican" value = 5.5 } 
										NOT = { check_variable = { which = "faction_members_republican" value = 6.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_republican" value = -0.41 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_republican" value = 6.5 } 
										NOT = { check_variable = { which = "faction_members_republican" value = 7.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_republican" value = -0.35 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_republican" value = 7.5 } 
										NOT = { check_variable = { which = "faction_members_republican" value = 8.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_republican" value = -0.31 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_republican" value = 7.5 } 
										NOT = { check_variable = { which = "faction_members_republican" value = 8.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_republican" value = -0.27 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_republican" value = 9.5 }
									}
								}
								liege = { change_variable = { which = "faction_relations_republican" value = -0.25 } }
							}							
						}
						if = {
							limit = {
								NOT = { opinion = { who = liege value = -50 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_republican" value = 0.5 } 
										NOT = { check_variable = { which = "faction_members_republican" value = 1.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_republican" value = -2.5 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_republican" value = 1.5 } 
										NOT = { check_variable = { which = "faction_members_republican" value = 2.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_republican" value = -1.25 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_republican" value = 2.5 } 
										NOT = { check_variable = { which = "faction_members_republican" value = 3.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_republican" value = -0.83 } }
							}	
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_republican" value = 3.5 } 
										NOT = { check_variable = { which = "faction_members_republican" value = 4.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_republican" value = -0.62 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_republican" value = 4.5 } 
										NOT = { check_variable = { which = "faction_members_republican" value = 5.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_republican" value = -0.5 } }
							}	
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_republican" value = 5.5 } 
										NOT = { check_variable = { which = "faction_members_republican" value = 6.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_republican" value = -0.41 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_republican" value = 6.5 } 
										NOT = { check_variable = { which = "faction_members_republican" value = 7.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_republican" value = -0.35 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_republican" value = 7.5 } 
										NOT = { check_variable = { which = "faction_members_republican" value = 8.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_republican" value = -0.31 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_republican" value = 7.5 } 
										NOT = { check_variable = { which = "faction_members_republican" value = 8.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_republican" value = -0.27 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_republican" value = 9.5 }
									}
								}
								liege = { change_variable = { which = "faction_relations_republican" value = -0.25 } }
							}							
						}						
						if = {
							limit = {
								NOT = { opinion = { who = liege value = -25 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_republican" value = 0.5 } 
										NOT = { check_variable = { which = "faction_members_republican" value = 1.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_republican" value = -2.5 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_republican" value = 1.5 } 
										NOT = { check_variable = { which = "faction_members_republican" value = 2.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_republican" value = -1.25 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_republican" value = 2.5 } 
										NOT = { check_variable = { which = "faction_members_republican" value = 3.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_republican" value = -0.83 } }
							}	
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_republican" value = 3.5 } 
										NOT = { check_variable = { which = "faction_members_republican" value = 4.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_republican" value = -0.62 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_republican" value = 4.5 } 
										NOT = { check_variable = { which = "faction_members_republican" value = 5.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_republican" value = -0.5 } }
							}	
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_republican" value = 5.5 } 
										NOT = { check_variable = { which = "faction_members_republican" value = 6.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_republican" value = -0.41 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_republican" value = 6.5 } 
										NOT = { check_variable = { which = "faction_members_republican" value = 7.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_republican" value = -0.35 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_republican" value = 7.5 } 
										NOT = { check_variable = { which = "faction_members_republican" value = 8.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_republican" value = -0.31 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_republican" value = 7.5 } 
										NOT = { check_variable = { which = "faction_members_republican" value = 8.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_republican" value = -0.27 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_republican" value = 9.5 }
									}
								}
								liege = { change_variable = { which = "faction_relations_republican" value = -0.25 } }
							}
						}						
						if = {
							limit = {
								NOT = { opinion = { who = liege value = 0 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_republican" value = 0.5 } 
										NOT = { check_variable = { which = "faction_members_republican" value = 1.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_republican" value = -2.5 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_republican" value = 1.5 } 
										NOT = { check_variable = { which = "faction_members_republican" value = 2.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_republican" value = -1.25 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_republican" value = 2.5 } 
										NOT = { check_variable = { which = "faction_members_republican" value = 3.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_republican" value = -0.83 } }
							}	
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_republican" value = 3.5 } 
										NOT = { check_variable = { which = "faction_members_republican" value = 4.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_republican" value = -0.62 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_republican" value = 4.5 } 
										NOT = { check_variable = { which = "faction_members_republican" value = 5.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_republican" value = -0.5 } }
							}	
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_republican" value = 5.5 } 
										NOT = { check_variable = { which = "faction_members_republican" value = 6.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_republican" value = -0.41 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_republican" value = 6.5 } 
										NOT = { check_variable = { which = "faction_members_republican" value = 7.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_republican" value = -0.35 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_republican" value = 7.5 } 
										NOT = { check_variable = { which = "faction_members_republican" value = 8.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_republican" value = -0.31 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_republican" value = 7.5 } 
										NOT = { check_variable = { which = "faction_members_republican" value = 8.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_republican" value = -0.27 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_republican" value = 9.5 }
									}
								}
								liege = { change_variable = { which = "faction_relations_republican" value = -0.25 } }
							}
						}	
						if = {
							limit = {
								opinion = { who = liege value = 25 }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_republican" value = 0.5 } 
										NOT = { check_variable = { which = "faction_members_republican" value = 1.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_republican" value = 2.5 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_republican" value = 1.5 } 
										NOT = { check_variable = { which = "faction_members_republican" value = 2.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_republican" value = 1.25 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_republican" value = 2.5 } 
										NOT = { check_variable = { which = "faction_members_republican" value = 3.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_republican" value = 0.83 } }
							}	
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_republican" value = 3.5 } 
										NOT = { check_variable = { which = "faction_members_republican" value = 4.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_republican" value = 0.62 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_republican" value = 4.5 } 
										NOT = { check_variable = { which = "faction_members_republican" value = 5.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_republican" value = 0.5 } }
							}	
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_republican" value = 5.5 } 
										NOT = { check_variable = { which = "faction_members_republican" value = 6.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_republican" value = 0.41 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_republican" value = 6.5 } 
										NOT = { check_variable = { which = "faction_members_republican" value = 7.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_republican" value = 0.35 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_republican" value = 7.5 } 
										NOT = { check_variable = { which = "faction_members_republican" value = 8.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_republican" value = 0.31 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_republican" value = 7.5 } 
										NOT = { check_variable = { which = "faction_members_republican" value = 8.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_republican" value = 0.27 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_republican" value = 9.5 }
									}
								}
								liege = { change_variable = { which = "faction_relations_republican" value = 0.25 } }
							}
						}							
						if = {
							limit = {
								opinion = { who = liege value = 50 }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_republican" value = 0.5 } 
										NOT = { check_variable = { which = "faction_members_republican" value = 1.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_republican" value = 2.5 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_republican" value = 1.5 } 
										NOT = { check_variable = { which = "faction_members_republican" value = 2.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_republican" value = 1.25 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_republican" value = 2.5 } 
										NOT = { check_variable = { which = "faction_members_republican" value = 3.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_republican" value = 0.83 } }
							}	
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_republican" value = 3.5 } 
										NOT = { check_variable = { which = "faction_members_republican" value = 4.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_republican" value = 0.62 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_republican" value = 4.5 } 
										NOT = { check_variable = { which = "faction_members_republican" value = 5.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_republican" value = 0.5 } }
							}	
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_republican" value = 5.5 } 
										NOT = { check_variable = { which = "faction_members_republican" value = 6.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_republican" value = 0.41 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_republican" value = 6.5 } 
										NOT = { check_variable = { which = "faction_members_republican" value = 7.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_republican" value = 0.35 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_republican" value = 7.5 } 
										NOT = { check_variable = { which = "faction_members_republican" value = 8.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_republican" value = 0.31 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_republican" value = 7.5 } 
										NOT = { check_variable = { which = "faction_members_republican" value = 8.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_republican" value = 0.27 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_republican" value = 9.5 }
									}
								}
								liege = { change_variable = { which = "faction_relations_republican" value = 0.25 } }
							}
						}							
						if = {
							limit = {
								opinion = { who = liege value = 75 }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_republican" value = 0.5 } 
										NOT = { check_variable = { which = "faction_members_republican" value = 1.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_republican" value = 2.5 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_republican" value = 1.5 } 
										NOT = { check_variable = { which = "faction_members_republican" value = 2.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_republican" value = 1.25 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_republican" value = 2.5 } 
										NOT = { check_variable = { which = "faction_members_republican" value = 3.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_republican" value = 0.83 } }
							}	
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_republican" value = 3.5 } 
										NOT = { check_variable = { which = "faction_members_republican" value = 4.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_republican" value = 0.62 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_republican" value = 4.5 } 
										NOT = { check_variable = { which = "faction_members_republican" value = 5.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_republican" value = 0.5 } }
							}	
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_republican" value = 5.5 } 
										NOT = { check_variable = { which = "faction_members_republican" value = 6.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_republican" value = 0.41 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_republican" value = 6.5 } 
										NOT = { check_variable = { which = "faction_members_republican" value = 7.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_republican" value = 0.35 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_republican" value = 7.5 } 
										NOT = { check_variable = { which = "faction_members_republican" value = 8.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_republican" value = 0.31 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_republican" value = 7.5 } 
										NOT = { check_variable = { which = "faction_members_republican" value = 8.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_republican" value = 0.27 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_republican" value = 9.5 }
									}
								}
								liege = { change_variable = { which = "faction_relations_republican" value = 0.25 } }
							}
						}	
						if = {
							limit = {
								opinion = { who = liege value = 100 }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_republican" value = 0.5 } 
										NOT = { check_variable = { which = "faction_members_republican" value = 1.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_republican" value = 2.5 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_republican" value = 1.5 } 
										NOT = { check_variable = { which = "faction_members_republican" value = 2.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_republican" value = 1.25 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_republican" value = 2.5 } 
										NOT = { check_variable = { which = "faction_members_republican" value = 3.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_republican" value = 0.83 } }
							}	
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_republican" value = 3.5 } 
										NOT = { check_variable = { which = "faction_members_republican" value = 4.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_republican" value = 0.62 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_republican" value = 4.5 } 
										NOT = { check_variable = { which = "faction_members_republican" value = 5.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_republican" value = 0.5 } }
							}	
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_republican" value = 5.5 } 
										NOT = { check_variable = { which = "faction_members_republican" value = 6.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_republican" value = 0.41 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_republican" value = 6.5 } 
										NOT = { check_variable = { which = "faction_members_republican" value = 7.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_republican" value = 0.35 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_republican" value = 7.5 } 
										NOT = { check_variable = { which = "faction_members_republican" value = 8.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_republican" value = 0.31 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_republican" value = 7.5 } 
										NOT = { check_variable = { which = "faction_members_republican" value = 8.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_republican" value = 0.27 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_republican" value = 9.5 }
									}
								}
								liege = { change_variable = { which = "faction_relations_republican" value = 0.25 } }
							}
						}		
					}	
					#religious	
					if = {
						limit = {
							OR = {
								leads_faction = faction_religious_emperor
								leads_faction = faction_religious_king
								leads_faction = faction_religious_duke
								in_faction = faction_religious_emperor
								in_faction = faction_religious_king
								in_faction = faction_religious_duke
							}
						}				
						#relations							
						if = {
							limit = {
								NOT = { opinion = { who = liege value = -75 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_religious" value = 0.5 } 
										NOT = { check_variable = { which = "faction_members_religious" value = 1.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_religious" value = -2.5 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_religious" value = 1.5 } 
										NOT = { check_variable = { which = "faction_members_religious" value = 2.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_religious" value = -1.25 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_religious" value = 2.5 } 
										NOT = { check_variable = { which = "faction_members_religious" value = 3.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_religious" value = -0.83 } }
							}	
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_religious" value = 3.5 } 
										NOT = { check_variable = { which = "faction_members_religious" value = 4.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_religious" value = -0.62 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_religious" value = 4.5 } 
										NOT = { check_variable = { which = "faction_members_religious" value = 5.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_religious" value = -0.5 } }
							}	
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_religious" value = 5.5 } 
										NOT = { check_variable = { which = "faction_members_religious" value = 6.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_religious" value = -0.41 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_religious" value = 6.5 } 
										NOT = { check_variable = { which = "faction_members_religious" value = 7.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_religious" value = -0.35 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_religious" value = 7.5 } 
										NOT = { check_variable = { which = "faction_members_religious" value = 8.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_religious" value = -0.31 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_religious" value = 7.5 } 
										NOT = { check_variable = { which = "faction_members_religious" value = 8.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_religious" value = -0.27 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_religious" value = 9.5 }
									}
								}
								liege = { change_variable = { which = "faction_relations_religious" value = -0.25 } }
							}							
						}
						if = {
							limit = {
								NOT = { opinion = { who = liege value = -50 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_religious" value = 0.5 } 
										NOT = { check_variable = { which = "faction_members_religious" value = 1.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_religious" value = -2.5 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_religious" value = 1.5 } 
										NOT = { check_variable = { which = "faction_members_religious" value = 2.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_religious" value = -1.25 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_religious" value = 2.5 } 
										NOT = { check_variable = { which = "faction_members_religious" value = 3.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_religious" value = -0.83 } }
							}	
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_religious" value = 3.5 } 
										NOT = { check_variable = { which = "faction_members_religious" value = 4.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_religious" value = -0.62 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_religious" value = 4.5 } 
										NOT = { check_variable = { which = "faction_members_religious" value = 5.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_religious" value = -0.5 } }
							}	
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_religious" value = 5.5 } 
										NOT = { check_variable = { which = "faction_members_religious" value = 6.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_religious" value = -0.41 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_religious" value = 6.5 } 
										NOT = { check_variable = { which = "faction_members_religious" value = 7.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_religious" value = -0.35 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_religious" value = 7.5 } 
										NOT = { check_variable = { which = "faction_members_religious" value = 8.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_religious" value = -0.31 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_religious" value = 7.5 } 
										NOT = { check_variable = { which = "faction_members_religious" value = 8.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_religious" value = -0.27 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_religious" value = 9.5 }
									}
								}
								liege = { change_variable = { which = "faction_relations_religious" value = -0.25 } }
							}							
						}						
						if = {
							limit = {
								NOT = { opinion = { who = liege value = -25 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_religious" value = 0.5 } 
										NOT = { check_variable = { which = "faction_members_religious" value = 1.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_religious" value = -2.5 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_religious" value = 1.5 } 
										NOT = { check_variable = { which = "faction_members_religious" value = 2.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_religious" value = -1.25 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_religious" value = 2.5 } 
										NOT = { check_variable = { which = "faction_members_religious" value = 3.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_religious" value = -0.83 } }
							}	
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_religious" value = 3.5 } 
										NOT = { check_variable = { which = "faction_members_religious" value = 4.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_religious" value = -0.62 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_religious" value = 4.5 } 
										NOT = { check_variable = { which = "faction_members_religious" value = 5.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_religious" value = -0.5 } }
							}	
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_religious" value = 5.5 } 
										NOT = { check_variable = { which = "faction_members_religious" value = 6.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_religious" value = -0.41 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_religious" value = 6.5 } 
										NOT = { check_variable = { which = "faction_members_religious" value = 7.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_religious" value = -0.35 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_religious" value = 7.5 } 
										NOT = { check_variable = { which = "faction_members_religious" value = 8.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_religious" value = -0.31 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_religious" value = 7.5 } 
										NOT = { check_variable = { which = "faction_members_religious" value = 8.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_religious" value = -0.27 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_religious" value = 9.5 }
									}
								}
								liege = { change_variable = { which = "faction_relations_religious" value = -0.25 } }
							}
						}						
						if = {
							limit = {
								NOT = { opinion = { who = liege value = 0 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_religious" value = 0.5 } 
										NOT = { check_variable = { which = "faction_members_religious" value = 1.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_religious" value = -2.5 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_religious" value = 1.5 } 
										NOT = { check_variable = { which = "faction_members_religious" value = 2.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_religious" value = -1.25 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_religious" value = 2.5 } 
										NOT = { check_variable = { which = "faction_members_religious" value = 3.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_religious" value = -0.83 } }
							}	
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_religious" value = 3.5 } 
										NOT = { check_variable = { which = "faction_members_religious" value = 4.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_religious" value = -0.62 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_religious" value = 4.5 } 
										NOT = { check_variable = { which = "faction_members_religious" value = 5.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_religious" value = -0.5 } }
							}	
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_religious" value = 5.5 } 
										NOT = { check_variable = { which = "faction_members_religious" value = 6.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_religious" value = -0.41 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_religious" value = 6.5 } 
										NOT = { check_variable = { which = "faction_members_religious" value = 7.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_religious" value = -0.35 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_religious" value = 7.5 } 
										NOT = { check_variable = { which = "faction_members_religious" value = 8.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_religious" value = -0.31 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_religious" value = 7.5 } 
										NOT = { check_variable = { which = "faction_members_religious" value = 8.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_religious" value = -0.27 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_religious" value = 9.5 }
									}
								}
								liege = { change_variable = { which = "faction_relations_religious" value = -0.25 } }
							}
						}	
						if = {
							limit = {
								opinion = { who = liege value = 25 }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_religious" value = 0.5 } 
										NOT = { check_variable = { which = "faction_members_religious" value = 1.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_religious" value = 2.5 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_religious" value = 1.5 } 
										NOT = { check_variable = { which = "faction_members_religious" value = 2.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_religious" value = 1.25 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_religious" value = 2.5 } 
										NOT = { check_variable = { which = "faction_members_religious" value = 3.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_religious" value = 0.83 } }
							}	
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_religious" value = 3.5 } 
										NOT = { check_variable = { which = "faction_members_religious" value = 4.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_religious" value = 0.62 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_religious" value = 4.5 } 
										NOT = { check_variable = { which = "faction_members_religious" value = 5.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_religious" value = 0.5 } }
							}	
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_religious" value = 5.5 } 
										NOT = { check_variable = { which = "faction_members_religious" value = 6.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_religious" value = 0.41 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_religious" value = 6.5 } 
										NOT = { check_variable = { which = "faction_members_religious" value = 7.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_religious" value = 0.35 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_religious" value = 7.5 } 
										NOT = { check_variable = { which = "faction_members_religious" value = 8.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_religious" value = 0.31 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_religious" value = 7.5 } 
										NOT = { check_variable = { which = "faction_members_religious" value = 8.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_religious" value = 0.27 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_religious" value = 9.5 }
									}
								}
								liege = { change_variable = { which = "faction_relations_religious" value = 0.25 } }
							}
						}							
						if = {
							limit = {
								opinion = { who = liege value = 50 }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_religious" value = 0.5 } 
										NOT = { check_variable = { which = "faction_members_religious" value = 1.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_religious" value = 2.5 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_religious" value = 1.5 } 
										NOT = { check_variable = { which = "faction_members_religious" value = 2.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_religious" value = 1.25 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_religious" value = 2.5 } 
										NOT = { check_variable = { which = "faction_members_religious" value = 3.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_religious" value = 0.83 } }
							}	
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_religious" value = 3.5 } 
										NOT = { check_variable = { which = "faction_members_religious" value = 4.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_religious" value = 0.62 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_religious" value = 4.5 } 
										NOT = { check_variable = { which = "faction_members_religious" value = 5.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_religious" value = 0.5 } }
							}	
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_religious" value = 5.5 } 
										NOT = { check_variable = { which = "faction_members_religious" value = 6.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_religious" value = 0.41 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_religious" value = 6.5 } 
										NOT = { check_variable = { which = "faction_members_religious" value = 7.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_religious" value = 0.35 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_religious" value = 7.5 } 
										NOT = { check_variable = { which = "faction_members_religious" value = 8.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_religious" value = 0.31 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_religious" value = 7.5 } 
										NOT = { check_variable = { which = "faction_members_religious" value = 8.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_religious" value = 0.27 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_religious" value = 9.5 }
									}
								}
								liege = { change_variable = { which = "faction_relations_religious" value = 0.25 } }
							}
						}							
						if = {
							limit = {
								opinion = { who = liege value = 75 }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_religious" value = 0.5 } 
										NOT = { check_variable = { which = "faction_members_religious" value = 1.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_religious" value = 2.5 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_religious" value = 1.5 } 
										NOT = { check_variable = { which = "faction_members_religious" value = 2.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_religious" value = 1.25 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_religious" value = 2.5 } 
										NOT = { check_variable = { which = "faction_members_religious" value = 3.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_religious" value = 0.83 } }
							}	
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_religious" value = 3.5 } 
										NOT = { check_variable = { which = "faction_members_religious" value = 4.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_religious" value = 0.62 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_religious" value = 4.5 } 
										NOT = { check_variable = { which = "faction_members_religious" value = 5.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_religious" value = 0.5 } }
							}	
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_religious" value = 5.5 } 
										NOT = { check_variable = { which = "faction_members_religious" value = 6.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_religious" value = 0.41 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_religious" value = 6.5 } 
										NOT = { check_variable = { which = "faction_members_religious" value = 7.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_religious" value = 0.35 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_religious" value = 7.5 } 
										NOT = { check_variable = { which = "faction_members_religious" value = 8.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_religious" value = 0.31 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_religious" value = 7.5 } 
										NOT = { check_variable = { which = "faction_members_religious" value = 8.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_religious" value = 0.27 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_religious" value = 9.5 }
									}
								}
								liege = { change_variable = { which = "faction_relations_religious" value = 0.25 } }
							}
						}	
						if = {
							limit = {
								opinion = { who = liege value = 100 }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_religious" value = 0.5 } 
										NOT = { check_variable = { which = "faction_members_religious" value = 1.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_religious" value = 2.5 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_religious" value = 1.5 } 
										NOT = { check_variable = { which = "faction_members_religious" value = 2.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_religious" value = 1.25 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_religious" value = 2.5 } 
										NOT = { check_variable = { which = "faction_members_religious" value = 3.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_religious" value = 0.83 } }
							}	
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_religious" value = 3.5 } 
										NOT = { check_variable = { which = "faction_members_religious" value = 4.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_religious" value = 0.62 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_religious" value = 4.5 } 
										NOT = { check_variable = { which = "faction_members_religious" value = 5.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_religious" value = 0.5 } }
							}	
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_religious" value = 5.5 } 
										NOT = { check_variable = { which = "faction_members_religious" value = 6.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_religious" value = 0.41 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_religious" value = 6.5 } 
										NOT = { check_variable = { which = "faction_members_religious" value = 7.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_religious" value = 0.35 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_religious" value = 7.5 } 
										NOT = { check_variable = { which = "faction_members_religious" value = 8.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_religious" value = 0.31 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_religious" value = 7.5 } 
										NOT = { check_variable = { which = "faction_members_religious" value = 8.5 } }
									}
								}
								liege = { change_variable = { which = "faction_relations_religious" value = 0.27 } }
							}
							if = {
								limit = { 
									liege = { 
										check_variable = { which = "faction_members_religious" value = 9.5 }
									}
								}
								liege = { change_variable = { which = "faction_relations_religious" value = 0.25 } }
							}
						}
					}
				}
				any_realm_lord = {
					limit = { higher_tier_than = baron }
					#feudal
					if = {
						limit = {
							OR = {
								leads_faction = faction_feudal_emperor
								leads_faction = faction_feudal_king
								leads_faction = faction_feudal_duke
							}
						}
						#cap moods
						if = {
							limit = {
								liege = { check_variable = { which = "total_faction_mood_feudal" value = 6 } }
							}
							liege = { change_variable = { which = "total_faction_mood_feudal" value = -1 } }
						}
						if = {
							limit = {
								liege = { check_variable = { which = "total_faction_mood_feudal" value = 6 } }
							}
							liege = { change_variable = { which = "total_faction_mood_feudal" value = -1 } }
						}
						if = {
							limit = {
								liege = { check_variable = { which = "total_faction_mood_feudal" value = 6 } }
							}
							liege = { change_variable = { which = "total_faction_mood_feudal" value = -1 } }
						}
						if = {
							limit = {
								liege = { check_variable = { which = "total_faction_mood_feudal" value = 6 } }
							}
							liege = { change_variable = { which = "total_faction_mood_feudal" value = -1 } }
						}
						if = {
							limit = {
								liege = { check_variable = { which = "total_faction_mood_feudal" value = 6 } }
							}
							liege = { change_variable = { which = "total_faction_mood_feudal" value = -1 } }
						}	
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "total_faction_mood_feudal" value = -6 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_feudal" value = 1 } }
						}
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "total_faction_mood_feudal" value = -6 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_feudal" value = 1 } }
						}	
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "total_faction_mood_feudal" value = -6 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_feudal" value = 1 } }
						}	
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "total_faction_mood_feudal" value = -6 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_feudal" value = 1 } }
						}	
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "total_faction_mood_feudal" value = -6 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_feudal" value = 1 } }
						}							
						#temporary moods
						if = {
							limit = {
								liege = { check_variable = { which = "faction_mood_feudal" value = 0.5 } }
							}
							liege = { change_variable = { which = "total_faction_mood_feudal" value = 1 } }
						}	
						if = {
							limit = {
								liege = { check_variable = { which = "faction_mood_feudal" value = 1.5 } }
							}
							liege = { change_variable = { which = "total_faction_mood_feudal" value = 1 } }
						}	
						if = {
							limit = {
								liege = { check_variable = { which = "faction_mood_feudal" value = 2.5 } }
							}
							liege = { change_variable = { which = "total_faction_mood_feudal" value = 1 } }
						}	
						if = {
							limit = {
								liege = { check_variable = { which = "faction_mood_feudal" value = 3.5 } }
							}
							liege = { change_variable = { which = "total_faction_mood_feudal" value = 1 } }
						}
						if = {
							limit = {
								liege = { check_variable = { which = "faction_mood_feudal" value = 4.5 } }
							}
							liege = { change_variable = { which = "total_faction_mood_feudal" value = 1 } }
						}
						if = {
							limit = {
								liege = { check_variable = { which = "faction_mood_feudal" value = 5.5 } }
							}
							liege = { change_variable = { which = "total_faction_mood_feudal" value = 1 } }
						}	
						if = {
							limit = {
								liege = { check_variable = { which = "faction_mood_feudal" value = 6.5 } }
							}
							liege = { change_variable = { which = "total_faction_mood_feudal" value = 1 } }
						}	
						if = {
							limit = {
								liege = { check_variable = { which = "faction_mood_feudal" value = 7.5 } }
							}
							liege = { change_variable = { which = "total_faction_mood_feudal" value = 1 } }
						}
						if = {
							limit = {
								liege = { check_variable = { which = "faction_mood_feudal" value = 8.5 } }
							}
							liege = { change_variable = { which = "total_faction_mood_feudal" value = 1 } }
						}
						if = {
							limit = {
								liege = { check_variable = { which = "faction_mood_feudal" value = 9.5 } }
							}
							liege = { change_variable = { which = "total_faction_mood_feudal" value = 1 } }
						}
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "faction_mood_feudal" value = -0.5 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_feudal" value = -1 } }
						}
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "faction_mood_feudal" value = -1.5 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_feudal" value = -1 } }
						}
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "faction_mood_feudal" value = -2.5 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_feudal" value = -1 } }
						}
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "faction_mood_feudal" value = -3.5 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_feudal" value = -1 } }
						}
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "faction_mood_feudal" value = -4.5 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_feudal" value = -1 } }
						}	
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "faction_mood_feudal" value = -5.5 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_feudal" value = -1 } }
						}
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "faction_mood_feudal" value = -6.5 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_feudal" value = -1 } }
						}	
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "faction_mood_feudal" value = -7.5 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_feudal" value = -1 } }
						}
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "faction_mood_feudal" value = -8.5 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_feudal" value = -1 } }
						}
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "faction_mood_feudal" value = -9.5 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_feudal" value = -1 } }
						}						
						#trend temporary moods towards zero
						if = {
							limit = {
								liege = { check_variable = { which = "faction_mood_feudal" value = 0.25 } }
							}
							liege = { change_variable = { which = "faction_mood_feudal" value = -0.25 } }
						}						
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "faction_mood_feudal" value = -0.25 } } }
							}
							liege = { change_variable = { which = "faction_mood_feudal" value = 0.25 } }
						}						
						#regency
						if = {
							limit = {
								liege = { regent = { is_alive = yes } }
							}
							liege = { change_variable = { which = "total_faction_mood_feudal" value = -2 } }
						}						
						#demesne							
						if = {
							limit = {
								liege = { NOT = { demesne_efficiency = 1.01 } }
							}
							liege = { change_variable = { which = "total_faction_mood_feudal" value = 0.5 } }
						}
						if = {
							limit = {
								liege = { demesne_efficiency = 2.00 }
							}
							liege = { change_variable = { which = "total_faction_mood_feudal" value = 0.5 } }
						}	
						#laws
						if = {
							limit = {
								liege = { primary_title = { has_law = feudal_tax_1 } }
							}
							liege = { change_variable = { which = "total_faction_mood_feudal" value = -1 } }
						}
						if = {
							limit = {
								liege = { primary_title = { has_law = feudal_tax_2 } }
							}
							liege = { change_variable = { which = "total_faction_mood_feudal" value = -2 } }
						}						
						if = {
							limit = {
								liege = { primary_title = { has_law = tax_privileges_2 } }
							}
							liege = { change_variable = { which = "total_faction_mood_feudal" value = 1.5 } }
						}
						if = {
							limit = {
								liege = { primary_title = { has_law = tax_privileges_0 } }
							}
							liege = { change_variable = { which = "total_faction_mood_feudal" value = -1.5 } }
						}
						if = {
							limit = {
								liege = { primary_title = { has_law = levy_privileges_0 } }
							}
							liege = { change_variable = { which = "total_faction_mood_feudal" value = -2 } }
						}							
						#CA
						if = {
							limit = {
								liege = { higher_tier_than = duke }
								primary_title = { crownlaw_title = { has_law = centralization_1 } }
							}
							liege = { change_variable = { which = "total_faction_mood_feudal" value = -0.25 } }
						}						
						if = {
							limit = {
								liege = { higher_tier_than = duke }
								primary_title = { crownlaw_title = { has_law = centralization_2 } }
							}
							liege = { change_variable = { which = "total_faction_mood_feudal" value = -0.5 } }
						}	
						if = {
							limit = {
								liege = { higher_tier_than = duke }
								primary_title = { crownlaw_title = { has_law = centralization_3 } }
							}
							liege = { change_variable = { which = "total_faction_mood_feudal" value = -1 } }
						}
						if = {
							limit = {
								liege = { higher_tier_than = duke }
								primary_title = { crownlaw_title = { has_law = centralization_4 } }
							}
							liege = { change_variable = { which = "total_faction_mood_feudal" value = -2 } }
						}	
						#relations
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "faction_relations_feudal" value = -9.5 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_feudal" value = -1 } }
						}
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "faction_relations_feudal" value = -8.5 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_feudal" value = -1 } }
						}							
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "faction_relations_feudal" value = -7.5 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_feudal" value = -1 } }
						}
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "faction_relations_feudal" value = -6.5 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_feudal" value = -1 } }
						}						
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "faction_relations_feudal" value = -5.5 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_feudal" value = -1 } }
						}
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "faction_relations_feudal" value = -4.5 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_feudal" value = -1 } }
						}
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "faction_relations_feudal" value = -3.5 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_feudal" value = -1 } }
						}							
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "faction_relations_feudal" value = -2.5 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_feudal" value = -1 } }
						}		
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "faction_relations_feudal" value = -1.5 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_feudal" value = -1 } }
						}
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "faction_relations_feudal" value = -0.5 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_feudal" value = -1 } }
						}
						if = {
							limit = {
								liege = { check_variable = { which = "faction_relations_feudal" value = 0.5 } }
							}
							liege = { change_variable = { which = "total_faction_mood_feudal" value = 1 } }
						}
						if = {
							limit = {
								liege = { check_variable = { which = "faction_relations_feudal" value = 1.5 } }
							}
							liege = { change_variable = { which = "total_faction_mood_feudal" value = 1 } }
						}	
						if = {
							limit = {
								liege = { check_variable = { which = "faction_relations_feudal" value = 2.5 } }
							}
							liege = { change_variable = { which = "total_faction_mood_feudal" value = 1 } }
						}
						if = {
							limit = {
								liege = { check_variable = { which = "faction_relations_feudal" value = 3.5 } }
							}
							liege = { change_variable = { which = "total_faction_mood_feudal" value = 1 } }
						}
						if = {
							limit = {
								liege = { check_variable = { which = "faction_relations_feudal" value = 4.5 } }
							}
							liege = { change_variable = { which = "total_faction_mood_feudal" value = 1 } }
						}
						if = {
							limit = {
								liege = { check_variable = { which = "faction_relations_feudal" value = 5.5 } }
							}
							liege = { change_variable = { which = "total_faction_mood_feudal" value = 1 } }
						}
						if = {
							limit = {
								liege = { check_variable = { which = "faction_relations_feudal" value = 6.5 } }
							}
							liege = { change_variable = { which = "total_faction_mood_feudal" value = 1 } }
						}
						if = {
							limit = {
								liege = { check_variable = { which = "faction_relations_feudal" value = 7.5 } }
							}
							liege = { change_variable = { which = "total_faction_mood_feudal" value = 1 } }
						}
						if = {
							limit = {
								liege = { check_variable = { which = "faction_relations_feudal" value = 8.5 } }
							}
							liege = { change_variable = { which = "total_faction_mood_feudal" value = 1 } }
						}
						if = {
							limit = {
								liege = { check_variable = { which = "faction_relations_feudal" value = 9.5 } }
							}
							liege = { change_variable = { which = "total_faction_mood_feudal" value = 1 } }
						}								
					}		
					#court
					if = {
						limit = {
							OR = {
								leads_faction = faction_court_emperor
								leads_faction = faction_court_king
								leads_faction = faction_court_duke
							}
						}
						#cap moods
						if = {
							limit = {
								liege = { check_variable = { which = "total_faction_mood_court" value = 6 } }
							}
							liege = { change_variable = { which = "total_faction_mood_court" value = -1 } }
						}
						if = {
							limit = {
								liege = { check_variable = { which = "total_faction_mood_court" value = 6 } }
							}
							liege = { change_variable = { which = "total_faction_mood_court" value = -1 } }
						}
						if = {
							limit = {
								liege = { check_variable = { which = "total_faction_mood_court" value = 6 } }
							}
							liege = { change_variable = { which = "total_faction_mood_court" value = -1 } }
						}
						if = {
							limit = {
								liege = { check_variable = { which = "total_faction_mood_court" value = 6 } }
							}
							liege = { change_variable = { which = "total_faction_mood_court" value = -1 } }
						}
						if = {
							limit = {
								liege = { check_variable = { which = "total_faction_mood_court" value = 6 } }
							}
							liege = { change_variable = { which = "total_faction_mood_court" value = -1 } }
						}	
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "total_faction_mood_court" value = -6 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_court" value = 1 } }
						}
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "total_faction_mood_court" value = -6 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_court" value = 1 } }
						}	
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "total_faction_mood_court" value = -6 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_court" value = 1 } }
						}	
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "total_faction_mood_court" value = -6 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_court" value = 1 } }
						}	
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "total_faction_mood_court" value = -6 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_court" value = 1 } }
						}						
						#temporary moods
						if = {
							limit = {
								liege = { check_variable = { which = "faction_mood_court" value = 0.5 } }
							}
							liege = { change_variable = { which = "total_faction_mood_court" value = 1 } }
						}	
						if = {
							limit = {
								liege = { check_variable = { which = "faction_mood_court" value = 1.5 } }
							}
							liege = { change_variable = { which = "total_faction_mood_court" value = 1 } }
						}	
						if = {
							limit = {
								liege = { check_variable = { which = "faction_mood_court" value = 2.5 } }
							}
							liege = { change_variable = { which = "total_faction_mood_court" value = 1 } }
						}	
						if = {
							limit = {
								liege = { check_variable = { which = "faction_mood_court" value = 3.5 } }
							}
							liege = { change_variable = { which = "total_faction_mood_court" value = 1 } }
						}
						if = {
							limit = {
								liege = { check_variable = { which = "faction_mood_court" value = 4.5 } }
							}
							liege = { change_variable = { which = "total_faction_mood_court" value = 1 } }
						}
						if = {
							limit = {
								liege = { check_variable = { which = "faction_mood_court" value = 5.5 } }
							}
							liege = { change_variable = { which = "total_faction_mood_court" value = 1 } }
						}	
						if = {
							limit = {
								liege = { check_variable = { which = "faction_mood_court" value = 6.5 } }
							}
							liege = { change_variable = { which = "total_faction_mood_court" value = 1 } }
						}	
						if = {
							limit = {
								liege = { check_variable = { which = "faction_mood_court" value = 7.5 } }
							}
							liege = { change_variable = { which = "total_faction_mood_court" value = 1 } }
						}
						if = {
							limit = {
								liege = { check_variable = { which = "faction_mood_court" value = 8.5 } }
							}
							liege = { change_variable = { which = "total_faction_mood_court" value = 1 } }
						}
						if = {
							limit = {
								liege = { check_variable = { which = "faction_mood_court" value = 9.5 } }
							}
							liege = { change_variable = { which = "total_faction_mood_court" value = 1 } }
						}
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "faction_mood_court" value = -0.5 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_court" value = -1 } }
						}
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "faction_mood_court" value = -1.5 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_court" value = -1 } }
						}
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "faction_mood_court" value = -2.5 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_court" value = -1 } }
						}
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "faction_mood_court" value = -3.5 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_court" value = -1 } }
						}
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "faction_mood_court" value = -4.5 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_court" value = -1 } }
						}	
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "faction_mood_court" value = -5.5 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_court" value = -1 } }
						}
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "faction_mood_court" value = -6.5 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_court" value = -1 } }
						}	
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "faction_mood_court" value = -7.5 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_court" value = -1 } }
						}
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "faction_mood_court" value = -8.5 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_court" value = -1 } }
						}
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "faction_mood_court" value = -9.5 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_court" value = -1 } }
						}						
						#trend temporary moods towards zero
						if = {
							limit = {
								liege = { check_variable = { which = "faction_mood_court" value = 0.25 } }
							}
							liege = { change_variable = { which = "faction_mood_court" value = -0.25 } }
						}						
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "faction_mood_court" value = -0.25 } } }
							}
							liege = { change_variable = { which = "faction_mood_court" value = 0.25 } }
						}	
						#laws
						if = {
							limit = {
								liege = { primary_title = { has_law = council_privileges_1 } }
							}
							liege = { change_variable = { which = "total_faction_mood_court" value = 2 } }
						}						
						#regency
						if = {
							limit = {
								liege = { regent = { is_alive = yes } }
							}
							liege = { change_variable = { which = "total_faction_mood_court" value = 2 } }
						}
						#holds office
						liege = {
							if = {
								limit = {
									job_chancellor = {
										OR = {
											leads_faction = faction_court_emperor
											leads_faction = faction_court_king
											leads_faction = faction_court_duke
											in_faction = faction_court_emperor
											in_faction = faction_court_king
											in_faction = faction_court_duke
										}
									}
								}
								if = {
									limit = {
										check_variable = { which = "faction_members_court" value = 0.5 }
										NOT = { check_variable = { which = "faction_members_court" value = 2.5 } }
									}
									change_variable = { which = "total_faction_mood_court" value = 1.0 }
								}
								if = {
									limit = {
										check_variable = { which = "faction_members_court" value = 2.5 }
										NOT = { check_variable = { which = "faction_members_court" value = 4.5 } }
									}
									change_variable = { which = "total_faction_mood_court" value = 0.75 }
								}
								if = {
									limit = {
										check_variable = { which = "faction_members_court" value = 4.5 }
									}
									change_variable = { which = "total_faction_mood_court" value = 0.5 }
								}
							}
							if = {
								limit = {
									job_treasurer = {
										OR = {
											leads_faction = faction_court_emperor
											leads_faction = faction_court_king
											leads_faction = faction_court_duke
											in_faction = faction_court_emperor
											in_faction = faction_court_king
											in_faction = faction_court_duke
										}
									}
								}
								if = {
									limit = {
										check_variable = { which = "faction_members_court" value = 0.5 }
										NOT = { check_variable = { which = "faction_members_court" value = 2.5 } }
									}
									change_variable = { which = "total_faction_mood_court" value = 1.0 }
								}
								if = {
									limit = {
										check_variable = { which = "faction_members_court" value = 2.5 }
										NOT = { check_variable = { which = "faction_members_court" value = 4.5 } }
									}
									change_variable = { which = "total_faction_mood_court" value = 0.75 }
								}
								if = {
									limit = {
										check_variable = { which = "faction_members_court" value = 4.5 }
									}
									change_variable = { which = "total_faction_mood_court" value = 0.5 }
								}
							}
							if = {
								limit = {
									job_spymaster = {
										OR = {
											leads_faction = faction_court_emperor
											leads_faction = faction_court_king
											leads_faction = faction_court_duke
											in_faction = faction_court_emperor
											in_faction = faction_court_king
											in_faction = faction_court_duke
										}
									}
								}
								if = {
									limit = {
										check_variable = { which = "faction_members_court" value = 0.5 }
										NOT = { check_variable = { which = "faction_members_court" value = 2.5 } }
									}
									change_variable = { which = "total_faction_mood_court" value = 1.0 }
								}
								if = {
									limit = {
										check_variable = { which = "faction_members_court" value = 2.5 }
										NOT = { check_variable = { which = "faction_members_court" value = 4.5 } }
									}
									change_variable = { which = "total_faction_mood_court" value = 0.75 }
								}
								if = {
									limit = {
										check_variable = { which = "faction_members_court" value = 4.5 }
									}
									change_variable = { which = "total_faction_mood_court" value = 0.5 }
								}
							}						
							if = {
								limit = {
									job_marshal = {
										OR = {
											leads_faction = faction_court_emperor
											leads_faction = faction_court_king
											leads_faction = faction_court_duke
											in_faction = faction_court_emperor
											in_faction = faction_court_king
											in_faction = faction_court_duke
										}
									}
								}
								if = {
									limit = {
										check_variable = { which = "faction_members_court" value = 0.5 }
										NOT = { check_variable = { which = "faction_members_court" value = 2.5 } }
									}
									change_variable = { which = "total_faction_mood_court" value = 1.0 }
								}
								if = {
									limit = {
										check_variable = { which = "faction_members_court" value = 2.5 }
										NOT = { check_variable = { which = "faction_members_court" value = 4.5 } }
									}
									change_variable = { which = "total_faction_mood_court" value = 0.75 }
								}
								if = {
									limit = {
										check_variable = { which = "faction_members_court" value = 4.5 }
									}
									change_variable = { which = "total_faction_mood_court" value = 0.5 }
								}
							}
							if = {
								limit = {
									job_spiritual = {
										OR = {
											leads_faction = faction_court_emperor
											leads_faction = faction_court_king
											leads_faction = faction_court_duke
											in_faction = faction_court_emperor
											in_faction = faction_court_king
											in_faction = faction_court_duke
										}
									}
								}
								if = {
									limit = {
										check_variable = { which = "faction_members_court" value = 0.5 }
										NOT = { check_variable = { which = "faction_members_court" value = 2.5 } }
									}
									change_variable = { which = "total_faction_mood_court" value = 1.0 }
								}
								if = {
									limit = {
										check_variable = { which = "faction_members_court" value = 2.5 }
										NOT = { check_variable = { which = "faction_members_court" value = 4.5 } }
									}
									change_variable = { which = "total_faction_mood_court" value = 0.75 }
								}
								if = {
									limit = {
										check_variable = { which = "faction_members_court" value = 4.5 }
									}
									change_variable = { which = "total_faction_mood_court" value = 0.5 }
								}
							}	
							if = {
								limit = {
									job_chancellor = {
										NOT = {
											leads_faction = faction_court_emperor
											leads_faction = faction_court_king
											leads_faction = faction_court_duke
											in_faction = faction_court_emperor
											in_faction = faction_court_king
											in_faction = faction_court_duke
										}
									}
								}
								if = {
									limit = {
										check_variable = { which = "faction_members_court" value = 0.5 }
										NOT = { check_variable = { which = "faction_members_court" value = 1.5 } }
									}
									change_variable = { which = "total_faction_mood_court" value = -0.1 }
								}
								if = {
									limit = {
										check_variable = { which = "faction_members_court" value = 1.5 }
										NOT = { check_variable = { which = "faction_members_court" value = 2.5 } }
									}
									change_variable = { which = "total_faction_mood_court" value = -0.2 }
								}
								if = {
									limit = {
										check_variable = { which = "faction_members_court" value = 2.5 }
										NOT = { check_variable = { which = "faction_members_court" value = 3.5 } }
									}
									change_variable = { which = "total_faction_mood_court" value = -0.3 }
								}
								if = {
									limit = {
										check_variable = { which = "faction_members_court" value = 3.5 }
										NOT = { check_variable = { which = "faction_members_court" value = 4.5 } }
									}
									change_variable = { which = "total_faction_mood_court" value = -0.4 }
								}
								if = {
									limit = {
										check_variable = { which = "faction_members_court" value = 4.5 }
									}
									change_variable = { which = "total_faction_mood_court" value = -0.5 }
								}								
							}
							if = {
								limit = {
									job_treasurer = {
										NOT = {
											leads_faction = faction_court_emperor
											leads_faction = faction_court_king
											leads_faction = faction_court_duke
											in_faction = faction_court_emperor
											in_faction = faction_court_king
											in_faction = faction_court_duke
										}
									}
								}
								if = {
									limit = {
										check_variable = { which = "faction_members_court" value = 0.5 }
										NOT = { check_variable = { which = "faction_members_court" value = 1.5 } }
									}
									change_variable = { which = "total_faction_mood_court" value = -0.1 }
								}
								if = {
									limit = {
										check_variable = { which = "faction_members_court" value = 1.5 }
										NOT = { check_variable = { which = "faction_members_court" value = 2.5 } }
									}
									change_variable = { which = "total_faction_mood_court" value = -0.2 }
								}
								if = {
									limit = {
										check_variable = { which = "faction_members_court" value = 2.5 }
										NOT = { check_variable = { which = "faction_members_court" value = 3.5 } }
									}
									change_variable = { which = "total_faction_mood_court" value = -0.3 }
								}
								if = {
									limit = {
										check_variable = { which = "faction_members_court" value = 3.5 }
										NOT = { check_variable = { which = "faction_members_court" value = 4.5 } }
									}
									change_variable = { which = "total_faction_mood_court" value = -0.4 }
								}
								if = {
									limit = {
										check_variable = { which = "faction_members_court" value = 4.5 }
									}
									change_variable = { which = "total_faction_mood_court" value = -0.5 }
								}
							}
							if = {
								limit = {
									job_spymaster = {
										NOT = {
											leads_faction = faction_court_emperor
											leads_faction = faction_court_king
											leads_faction = faction_court_duke
											in_faction = faction_court_emperor
											in_faction = faction_court_king
											in_faction = faction_court_duke
										}
									}
								}
								if = {
									limit = {
										check_variable = { which = "faction_members_court" value = 0.5 }
										NOT = { check_variable = { which = "faction_members_court" value = 1.5 } }
									}
									change_variable = { which = "total_faction_mood_court" value = -0.1 }
								}
								if = {
									limit = {
										check_variable = { which = "faction_members_court" value = 1.5 }
										NOT = { check_variable = { which = "faction_members_court" value = 2.5 } }
									}
									change_variable = { which = "total_faction_mood_court" value = -0.2 }
								}
								if = {
									limit = {
										check_variable = { which = "faction_members_court" value = 2.5 }
										NOT = { check_variable = { which = "faction_members_court" value = 3.5 } }
									}
									change_variable = { which = "total_faction_mood_court" value = -0.3 }
								}
								if = {
									limit = {
										check_variable = { which = "faction_members_court" value = 3.5 }
										NOT = { check_variable = { which = "faction_members_court" value = 4.5 } }
									}
									change_variable = { which = "total_faction_mood_court" value = -0.4 }
								}
								if = {
									limit = {
										check_variable = { which = "faction_members_court" value = 4.5 }
									}
									change_variable = { which = "total_faction_mood_court" value = -0.5 }
								}
							}						
							if = {
								limit = {
									job_marshal = {
										NOT = {
											leads_faction = faction_court_emperor
											leads_faction = faction_court_king
											leads_faction = faction_court_duke
											in_faction = faction_court_emperor
											in_faction = faction_court_king
											in_faction = faction_court_duke
										}
									}
								}
								if = {
									limit = {
										check_variable = { which = "faction_members_court" value = 0.5 }
										NOT = { check_variable = { which = "faction_members_court" value = 1.5 } }
									}
									change_variable = { which = "total_faction_mood_court" value = -0.1 }
								}
								if = {
									limit = {
										check_variable = { which = "faction_members_court" value = 1.5 }
										NOT = { check_variable = { which = "faction_members_court" value = 2.5 } }
									}
									change_variable = { which = "total_faction_mood_court" value = -0.2 }
								}
								if = {
									limit = {
										check_variable = { which = "faction_members_court" value = 2.5 }
										NOT = { check_variable = { which = "faction_members_court" value = 3.5 } }
									}
									change_variable = { which = "total_faction_mood_court" value = -0.3 }
								}
								if = {
									limit = {
										check_variable = { which = "faction_members_court" value = 3.5 }
										NOT = { check_variable = { which = "faction_members_court" value = 4.5 } }
									}
									change_variable = { which = "total_faction_mood_court" value = -0.4 }
								}
								if = {
									limit = {
										check_variable = { which = "faction_members_court" value = 4.5 }
									}
									change_variable = { which = "total_faction_mood_court" value = -0.5 }
								}
							}
							if = {
								limit = {
									job_spiritual = {
										NOT = {
											leads_faction = faction_court_emperor
											leads_faction = faction_court_king
											leads_faction = faction_court_duke
											in_faction = faction_court_emperor
											in_faction = faction_court_king
											in_faction = faction_court_duke
										}
									}
								}
								if = {
									limit = {
										check_variable = { which = "faction_members_court" value = 0.5 }
										NOT = { check_variable = { which = "faction_members_court" value = 1.5 } }
									}
									change_variable = { which = "total_faction_mood_court" value = -0.1 }
								}
								if = {
									limit = {
										check_variable = { which = "faction_members_court" value = 1.5 }
										NOT = { check_variable = { which = "faction_members_court" value = 2.5 } }
									}
									change_variable = { which = "total_faction_mood_court" value = -0.2 }
								}
								if = {
									limit = {
										check_variable = { which = "faction_members_court" value = 2.5 }
										NOT = { check_variable = { which = "faction_members_court" value = 3.5 } }
									}
									change_variable = { which = "total_faction_mood_court" value = -0.3 }
								}
								if = {
									limit = {
										check_variable = { which = "faction_members_court" value = 3.5 }
										NOT = { check_variable = { which = "faction_members_court" value = 4.5 } }
									}
									change_variable = { which = "total_faction_mood_court" value = -0.4 }
								}
								if = {
									limit = {
										check_variable = { which = "faction_members_court" value = 4.5 }
									}
									change_variable = { which = "total_faction_mood_court" value = -0.5 }
								}
							}	
						}
						#relations
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "faction_relations_court" value = -9.5 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_court" value = -1 } }
						}
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "faction_relations_court" value = -8.5 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_court" value = -1 } }
						}							
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "faction_relations_court" value = -7.5 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_court" value = -1 } }
						}
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "faction_relations_court" value = -6.5 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_court" value = -1 } }
						}						
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "faction_relations_court" value = -5.5 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_court" value = -1 } }
						}
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "faction_relations_court" value = -4.5 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_court" value = -1 } }
						}
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "faction_relations_court" value = -3.5 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_court" value = -1 } }
						}							
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "faction_relations_court" value = -2.5 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_court" value = -1 } }
						}		
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "faction_relations_court" value = -1.5 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_court" value = -1 } }
						}
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "faction_relations_court" value = -0.5 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_court" value = -1 } }
						}
						if = {
							limit = {
								liege = { check_variable = { which = "faction_relations_court" value = 0.5 } }
							}
							liege = { change_variable = { which = "total_faction_mood_court" value = 1 } }
						}
						if = {
							limit = {
								liege = { check_variable = { which = "faction_relations_court" value = 1.5 } }
							}
							liege = { change_variable = { which = "total_faction_mood_court" value = 1 } }
						}	
						if = {
							limit = {
								liege = { check_variable = { which = "faction_relations_court" value = 2.5 } }
							}
							liege = { change_variable = { which = "total_faction_mood_court" value = 1 } }
						}
						if = {
							limit = {
								liege = { check_variable = { which = "faction_relations_court" value = 3.5 } }
							}
							liege = { change_variable = { which = "total_faction_mood_court" value = 1 } }
						}
						if = {
							limit = {
								liege = { check_variable = { which = "faction_relations_court" value = 4.5 } }
							}
							liege = { change_variable = { which = "total_faction_mood_court" value = 1 } }
						}
						if = {
							limit = {
								liege = { check_variable = { which = "faction_relations_court" value = 5.5 } }
							}
							liege = { change_variable = { which = "total_faction_mood_court" value = 1 } }
						}
						if = {
							limit = {
								liege = { check_variable = { which = "faction_relations_court" value = 6.5 } }
							}
							liege = { change_variable = { which = "total_faction_mood_court" value = 1 } }
						}
						if = {
							limit = {
								liege = { check_variable = { which = "faction_relations_court" value = 7.5 } }
							}
							liege = { change_variable = { which = "total_faction_mood_court" value = 1 } }
						}
						if = {
							limit = {
								liege = { check_variable = { which = "faction_relations_court" value = 8.5 } }
							}
							liege = { change_variable = { which = "total_faction_mood_court" value = 1 } }
						}
						if = {
							limit = {
								liege = { check_variable = { which = "faction_relations_court" value = 9.5 } }
							}
							liege = { change_variable = { which = "total_faction_mood_court" value = 1 } }
						}													
					}	
					#republican
					if = {
						limit = {
							OR = {
								leads_faction = faction_republican_emperor
								leads_faction = faction_republican_king
								leads_faction = faction_republican_duke
							}
						}
						#cap moods
						if = {
							limit = {
								liege = { check_variable = { which = "total_faction_mood_republican" value = 6 } }
							}
							liege = { change_variable = { which = "total_faction_mood_republican" value = -1 } }
						}
						if = {
							limit = {
								liege = { check_variable = { which = "total_faction_mood_republican" value = 6 } }
							}
							liege = { change_variable = { which = "total_faction_mood_republican" value = -1 } }
						}
						if = {
							limit = {
								liege = { check_variable = { which = "total_faction_mood_republican" value = 6 } }
							}
							liege = { change_variable = { which = "total_faction_mood_republican" value = -1 } }
						}
						if = {
							limit = {
								liege = { check_variable = { which = "total_faction_mood_republican" value = 6 } }
							}
							liege = { change_variable = { which = "total_faction_mood_republican" value = -1 } }
						}
						if = {
							limit = {
								liege = { check_variable = { which = "total_faction_mood_republican" value = 6 } }
							}
							liege = { change_variable = { which = "total_faction_mood_republican" value = -1 } }
						}	
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "total_faction_mood_republican" value = -6 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_republican" value = 1 } }
						}
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "total_faction_mood_republican" value = -6 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_republican" value = 1 } }
						}	
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "total_faction_mood_republican" value = -6 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_republican" value = 1 } }
						}	
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "total_faction_mood_republican" value = -6 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_republican" value = 1 } }
						}	
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "total_faction_mood_republican" value = -6 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_republican" value = 1 } }
						}						
						#temporary moods
						if = {
							limit = {
								liege = { check_variable = { which = "faction_mood_republican" value = 0.5 } }
							}
							liege = { change_variable = { which = "total_faction_mood_republican" value = 1 } }
						}	
						if = {
							limit = {
								liege = { check_variable = { which = "faction_mood_republican" value = 1.5 } }
							}
							liege = { change_variable = { which = "total_faction_mood_republican" value = 1 } }
						}	
						if = {
							limit = {
								liege = { check_variable = { which = "faction_mood_republican" value = 2.5 } }
							}
							liege = { change_variable = { which = "total_faction_mood_republican" value = 1 } }
						}	
						if = {
							limit = {
								liege = { check_variable = { which = "faction_mood_republican" value = 3.5 } }
							}
							liege = { change_variable = { which = "total_faction_mood_republican" value = 1 } }
						}
						if = {
							limit = {
								liege = { check_variable = { which = "faction_mood_republican" value = 4.5 } }
							}
							liege = { change_variable = { which = "total_faction_mood_republican" value = 1 } }
						}
						if = {
							limit = {
								liege = { check_variable = { which = "faction_mood_republican" value = 5.5 } }
							}
							liege = { change_variable = { which = "total_faction_mood_republican" value = 1 } }
						}	
						if = {
							limit = {
								liege = { check_variable = { which = "faction_mood_republican" value = 6.5 } }
							}
							liege = { change_variable = { which = "total_faction_mood_republican" value = 1 } }
						}	
						if = {
							limit = {
								liege = { check_variable = { which = "faction_mood_republican" value = 7.5 } }
							}
							liege = { change_variable = { which = "total_faction_mood_republican" value = 1 } }
						}
						if = {
							limit = {
								liege = { check_variable = { which = "faction_mood_republican" value = 8.5 } }
							}
							liege = { change_variable = { which = "total_faction_mood_republican" value = 1 } }
						}
						if = {
							limit = {
								liege = { check_variable = { which = "faction_mood_republican" value = 9.5 } }
							}
							liege = { change_variable = { which = "total_faction_mood_republican" value = 1 } }
						}
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "faction_mood_republican" value = -0.5 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_republican" value = -1 } }
						}
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "faction_mood_republican" value = -1.5 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_republican" value = -1 } }
						}
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "faction_mood_republican" value = -2.5 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_republican" value = -1 } }
						}
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "faction_mood_republican" value = -3.5 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_republican" value = -1 } }
						}
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "faction_mood_republican" value = -4.5 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_republican" value = -1 } }
						}	
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "faction_mood_republican" value = -5.5 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_republican" value = -1 } }
						}
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "faction_mood_republican" value = -6.5 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_republican" value = -1 } }
						}	
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "faction_mood_republican" value = -7.5 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_republican" value = -1 } }
						}
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "faction_mood_republican" value = -8.5 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_republican" value = -1 } }
						}
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "faction_mood_republican" value = -9.5 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_republican" value = -1 } }
						}						
						#trend temporary moods towards zero
						if = {
							limit = {
								liege = { check_variable = { which = "faction_mood_republican" value = 0.25 } }
							}
							liege = { change_variable = { which = "faction_mood_republican" value = -0.25 } }
						}						
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "faction_mood_republican" value = -02.5 } } }
							}
							liege = { change_variable = { which = "faction_mood_republican" value = 0.25 } }
						}						
						#regency
						if = {
							limit = {
								liege = { regent = { is_alive = yes } }
							}
							liege = { change_variable = { which = "total_faction_mood_republican" value = -2 } }
						}	
						#laws
						if = {
							limit = {
								liege = { primary_title = { has_law = city_tax_1 } }
							}
							liege = { change_variable = { which = "total_faction_mood_republican" value = -1 } }
						}
						if = {
							limit = {
								liege = { primary_title = { has_law = city_tax_2 } }
							}
							liege = { change_variable = { which = "total_faction_mood_republican" value = -2 } }
						}						
						if = {
							limit = {
								liege = { primary_title = { has_law = tax_privileges_2 } }
							}
							liege = { change_variable = { which = "total_faction_mood_republican" value = 1.5 } }
						}
						if = {
							limit = {
								liege = { primary_title = { has_law = tax_privileges_0 } }
							}
							liege = { change_variable = { which = "total_faction_mood_republican" value = -1.5 } }
						}
						if = {
							limit = {
								liege = { primary_title = { has_law = levy_privileges_0 } }
							}
							liege = { change_variable = { which = "total_faction_mood_republican" value = -1 } }
						}					
						#relations
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "faction_relations_republican" value = -9.5 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_republican" value = -1 } }
						}
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "faction_relations_republican" value = -8.5 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_republican" value = -1 } }
						}							
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "faction_relations_republican" value = -7.5 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_republican" value = -1 } }
						}
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "faction_relations_republican" value = -6.5 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_republican" value = -1 } }
						}						
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "faction_relations_republican" value = -5.5 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_republican" value = -1 } }
						}
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "faction_relations_republican" value = -4.5 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_republican" value = -1 } }
						}
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "faction_relations_republican" value = -3.5 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_republican" value = -1 } }
						}							
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "faction_relations_republican" value = -2.5 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_republican" value = -1 } }
						}		
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "faction_relations_republican" value = -1.5 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_republican" value = -1 } }
						}
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "faction_relations_republican" value = -0.5 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_republican" value = -1 } }
						}
						if = {
							limit = {
								liege = { check_variable = { which = "faction_relations_republican" value = 0.5 } }
							}
							liege = { change_variable = { which = "total_faction_mood_republican" value = 1 } }
						}
						if = {
							limit = {
								liege = { check_variable = { which = "faction_relations_republican" value = 1.5 } }
							}
							liege = { change_variable = { which = "total_faction_mood_republican" value = 1 } }
						}	
						if = {
							limit = {
								liege = { check_variable = { which = "faction_relations_republican" value = 2.5 } }
							}
							liege = { change_variable = { which = "total_faction_mood_republican" value = 1 } }
						}
						if = {
							limit = {
								liege = { check_variable = { which = "faction_relations_republican" value = 3.5 } }
							}
							liege = { change_variable = { which = "total_faction_mood_republican" value = 1 } }
						}
						if = {
							limit = {
								liege = { check_variable = { which = "faction_relations_republican" value = 4.5 } }
							}
							liege = { change_variable = { which = "total_faction_mood_republican" value = 1 } }
						}
						if = {
							limit = {
								liege = { check_variable = { which = "faction_relations_republican" value = 5.5 } }
							}
							liege = { change_variable = { which = "total_faction_mood_republican" value = 1 } }
						}
						if = {
							limit = {
								liege = { check_variable = { which = "faction_relations_republican" value = 6.5 } }
							}
							liege = { change_variable = { which = "total_faction_mood_republican" value = 1 } }
						}
						if = {
							limit = {
								liege = { check_variable = { which = "faction_relations_republican" value = 7.5 } }
							}
							liege = { change_variable = { which = "total_faction_mood_republican" value = 1 } }
						}
						if = {
							limit = {
								liege = { check_variable = { which = "faction_relations_republican" value = 8.5 } }
							}
							liege = { change_variable = { which = "total_faction_mood_republican" value = 1 } }
						}
						if = {
							limit = {
								liege = { check_variable = { which = "faction_relations_republican" value = 9.5 } }
							}
							liege = { change_variable = { which = "total_faction_mood_republican" value = 1 } }
						}										
					}		
					#religious
					if = {
						limit = {
							OR = {
								leads_faction = faction_religious_emperor
								leads_faction = faction_religious_king
								leads_faction = faction_religious_duke
							}
						}
						#investiture
						if = {
							limit = {
								liege = { higher_tier_than = duke }
								primary_title = { crownlaw_title = { has_law = investiture_law_1 } }
							}
							liege = { change_variable = { which = "total_faction_mood_religious" value = -1 } }
						}
						#cap moods
						if = {
							limit = {
								liege = { check_variable = { which = "total_faction_mood_religious" value = 6 } }
							}
							liege = { change_variable = { which = "total_faction_mood_religious" value = -1 } }
						}
						if = {
							limit = {
								liege = { check_variable = { which = "total_faction_mood_religious" value = 6 } }
							}
							liege = { change_variable = { which = "total_faction_mood_religious" value = -1 } }
						}
						if = {
							limit = {
								liege = { check_variable = { which = "total_faction_mood_religious" value = 6 } }
							}
							liege = { change_variable = { which = "total_faction_mood_religious" value = -1 } }
						}
						if = {
							limit = {
								liege = { check_variable = { which = "total_faction_mood_religious" value = 6 } }
							}
							liege = { change_variable = { which = "total_faction_mood_religious" value = -1 } }
						}
						if = {
							limit = {
								liege = { check_variable = { which = "total_faction_mood_religious" value = 6 } }
							}
							liege = { change_variable = { which = "total_faction_mood_religious" value = -1 } }
						}	
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "total_faction_mood_religious" value = -6 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_religious" value = 1 } }
						}
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "total_faction_mood_religious" value = -6 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_religious" value = 1 } }
						}	
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "total_faction_mood_religious" value = -6 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_religious" value = 1 } }
						}	
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "total_faction_mood_religious" value = -6 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_religious" value = 1 } }
						}	
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "total_faction_mood_religious" value = -6 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_religious" value = 1 } }
						}						
						#temporary moods
						if = {
							limit = {
								liege = { check_variable = { which = "faction_mood_religious" value = 0.5 } }
							}
							liege = { change_variable = { which = "total_faction_mood_religious" value = 1 } }
						}	
						if = {
							limit = {
								liege = { check_variable = { which = "faction_mood_religious" value = 1.5 } }
							}
							liege = { change_variable = { which = "total_faction_mood_religious" value = 1 } }
						}	
						if = {
							limit = {
								liege = { check_variable = { which = "faction_mood_religious" value = 2.5 } }
							}
							liege = { change_variable = { which = "total_faction_mood_religious" value = 1 } }
						}	
						if = {
							limit = {
								liege = { check_variable = { which = "faction_mood_religious" value = 3.5 } }
							}
							liege = { change_variable = { which = "total_faction_mood_religious" value = 1 } }
						}
						if = {
							limit = {
								liege = { check_variable = { which = "faction_mood_religious" value = 4.5 } }
							}
							liege = { change_variable = { which = "total_faction_mood_religious" value = 1 } }
						}
						if = {
							limit = {
								liege = { check_variable = { which = "faction_mood_religious" value = 5.5 } }
							}
							liege = { change_variable = { which = "total_faction_mood_religious" value = 1 } }
						}	
						if = {
							limit = {
								liege = { check_variable = { which = "faction_mood_religious" value = 6.5 } }
							}
							liege = { change_variable = { which = "total_faction_mood_religious" value = 1 } }
						}	
						if = {
							limit = {
								liege = { check_variable = { which = "faction_mood_religious" value = 7.5 } }
							}
							liege = { change_variable = { which = "total_faction_mood_religious" value = 1 } }
						}
						if = {
							limit = {
								liege = { check_variable = { which = "faction_mood_religious" value = 8.5 } }
							}
							liege = { change_variable = { which = "total_faction_mood_religious" value = 1 } }
						}
						if = {
							limit = {
								liege = { check_variable = { which = "faction_mood_religious" value = 9.5 } }
							}
							liege = { change_variable = { which = "total_faction_mood_religious" value = 1 } }
						}
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "faction_mood_religious" value = -0.5 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_religious" value = -1 } }
						}
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "faction_mood_religious" value = -1.5 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_religious" value = -1 } }
						}
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "faction_mood_religious" value = -2.5 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_religious" value = -1 } }
						}
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "faction_mood_religious" value = -3.5 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_religious" value = -1 } }
						}
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "faction_mood_religious" value = -4.5 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_religious" value = -1 } }
						}	
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "faction_mood_religious" value = -5.5 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_religious" value = -1 } }
						}
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "faction_mood_religious" value = -6.5 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_religious" value = -1 } }
						}	
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "faction_mood_religious" value = -7.5 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_religious" value = -1 } }
						}
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "faction_mood_religious" value = -8.5 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_religious" value = -1 } }
						}
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "faction_mood_religious" value = -9.5 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_religious" value = -1 } }
						}						
						#trend temporary moods towards zero
						if = {
							limit = {
								liege = { check_variable = { which = "faction_mood_religious" value = 0.25 } }
							}
							liege = { change_variable = { which = "faction_mood_religious" value = -0.25 } }
						}						
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "faction_mood_religious" value = -0.25 } } }
							}
							liege = { change_variable = { which = "faction_mood_religious" value = 0.25 } }
						}						
						#excommunicated
						if = {
							limit = {
								liege = { trait = excommunicated }
							}
							liege = { change_variable = { which = "total_faction_mood_religious" value = -5 } }
						}
						#laws
						if = {
							limit = {
								liege = { primary_title = { has_law = temple_tax_1 } }
							}
							liege = { change_variable = { which = "total_faction_mood_religious" value = -1 } }
						}
						if = {
							limit = {
								liege = { primary_title = { has_law = temple_tax_2 } }
							}
							liege = { change_variable = { which = "total_faction_mood_religious" value = -2 } }
						}						
						if = {
							limit = {
								liege = { primary_title = { has_law = tax_privileges_2 } }
							}
							liege = { change_variable = { which = "total_faction_mood_religious" value = 1.5 } }
						}
						if = {
							limit = {
								liege = { primary_title = { has_law = tax_privileges_0 } }
							}
							liege = { change_variable = { which = "total_faction_mood_religious" value = -1.5 } }
						}
						if = {
							limit = {
								liege = { primary_title = { has_law = levy_privileges_0 } }
							}
							liege = { change_variable = { which = "total_faction_mood_religious" value = -1 } }
						}						
						#piety
						if = {
							limit = {
								liege = { NOT = { piety = -250 } }
							}
							liege = { change_variable = { which = "total_faction_mood_religious" value = -1 } }
						}						
						if = {
							limit = {
								liege = { NOT = { piety = -100 } }
							}
							liege = { change_variable = { which = "total_faction_mood_religious" value = -1 } }
						}						
						if = {
							limit = {
								liege = { NOT = { piety = 0 } }
							}
							liege = { change_variable = { which = "total_faction_mood_religious" value = -1 } }
						}	
						if = {
							limit = {
								liege = { NOT = { piety = 100 } }
							}
							liege = { change_variable = { which = "total_faction_mood_religious" value = -1 } }
						}
						if = {
							limit = {
								liege = { piety = 250 }
							}
							liege = { change_variable = { which = "total_faction_mood_religious" value = 1 } }
						}
						if = {
							limit = {
								liege = { piety = 500 }
							}
							liege = { change_variable = { which = "total_faction_mood_religious" value = 1 } }
						}
						if = {
							limit = {
								liege = { piety = 750 }
							}
							liege = { change_variable = { which = "total_faction_mood_religious" value = 1 } }
						}	
						if = {
							limit = {
								liege = { piety = 1000 }
							}
							liege = { change_variable = { which = "total_faction_mood_religious" value = 1 } }
						}						
						#relations
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "faction_relations_religious" value = -9.5 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_religious" value = -1 } }
						}
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "faction_relations_religious" value = -8.5 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_religious" value = -1 } }
						}							
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "faction_relations_religious" value = -7.5 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_religious" value = -1 } }
						}
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "faction_relations_religious" value = -6.5 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_religious" value = -1 } }
						}						
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "faction_relations_religious" value = -5.5 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_religious" value = -1 } }
						}
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "faction_relations_religious" value = -4.5 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_religious" value = -1 } }
						}
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "faction_relations_religious" value = -3.5 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_religious" value = -1 } }
						}							
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "faction_relations_religious" value = -2.5 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_religious" value = -1 } }
						}		
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "faction_relations_religious" value = -1.5 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_religious" value = -1 } }
						}
						if = {
							limit = {
								liege = { NOT = { check_variable = { which = "faction_relations_religious" value = -0.5 } } }
							}
							liege = { change_variable = { which = "total_faction_mood_religious" value = -1 } }
						}
						if = {
							limit = {
								liege = { check_variable = { which = "faction_relations_religious" value = 0.5 } }
							}
							liege = { change_variable = { which = "total_faction_mood_religious" value = 1 } }
						}
						if = {
							limit = {
								liege = { check_variable = { which = "faction_relations_religious" value = 1.5 } }
							}
							liege = { change_variable = { which = "total_faction_mood_religious" value = 1 } }
						}	
						if = {
							limit = {
								liege = { check_variable = { which = "faction_relations_religious" value = 2.5 } }
							}
							liege = { change_variable = { which = "total_faction_mood_religious" value = 1 } }
						}
						if = {
							limit = {
								liege = { check_variable = { which = "faction_relations_religious" value = 3.5 } }
							}
							liege = { change_variable = { which = "total_faction_mood_religious" value = 1 } }
						}
						if = {
							limit = {
								liege = { check_variable = { which = "faction_relations_religious" value = 4.5 } }
							}
							liege = { change_variable = { which = "total_faction_mood_religious" value = 1 } }
						}
						if = {
							limit = {
								liege = { check_variable = { which = "faction_relations_religious" value = 5.5 } }
							}
							liege = { change_variable = { which = "total_faction_mood_religious" value = 1 } }
						}
						if = {
							limit = {
								liege = { check_variable = { which = "faction_relations_religious" value = 6.5 } }
							}
							liege = { change_variable = { which = "total_faction_mood_religious" value = 1 } }
						}
						if = {
							limit = {
								liege = { check_variable = { which = "faction_relations_religious" value = 7.5 } }
							}
							liege = { change_variable = { which = "total_faction_mood_religious" value = 1 } }
						}
						if = {
							limit = {
								liege = { check_variable = { which = "faction_relations_religious" value = 8.5 } }
							}
							liege = { change_variable = { which = "total_faction_mood_religious" value = 1 } }
						}
						if = {
							limit = {
								liege = { check_variable = { which = "faction_relations_religious" value = 9.5 } }
							}
							liege = { change_variable = { which = "total_faction_mood_religious" value = 1 } }
						}											
					}					
				}				
				#calculate moods
				any_realm_lord = {
					limit = { 
						higher_tier_than = baron 
					}				
					if = {
						limit = {
							OR = {
								leads_faction = faction_feudal_emperor
								leads_faction = faction_feudal_king
								leads_faction = faction_feudal_duke
							}
						}
						if = {
							limit = {	
								liege = {
									check_variable = { which = "total_faction_mood_feudal" value = 4.00 }
									NOT = { has_character_flag = faction_feudal_happy }
								}
							}
							liege = { 
								set_character_flag = faction_feudal_happy 
								clr_character_flag = faction_feudal_unhappy
								clr_character_flag = faction_feudal_angry								
							}
							character_event = { id = 1900000 }
						}	
						if = {
							limit = {	
								liege = {
									check_variable = { which = "total_faction_mood_feudal" value = -1.00 }
									NOT = { check_variable = { which = "total_faction_mood_feudal" value = 4.001 } }
									OR = {
										has_character_flag = faction_feudal_happy
										has_character_flag = faction_feudal_unhappy
										has_character_flag = faction_feudal_angry									
									}
								}
							}
							liege = { 
								clr_character_flag = faction_feudal_happy 
								clr_character_flag = faction_feudal_unhappy
								clr_character_flag = faction_feudal_angry								
							}
							character_event = { id = 1900002 }
						}
						if = {
							limit = {	
								liege = {
									check_variable = { which = "total_faction_mood_feudal" value = -4.00 }
									NOT = { check_variable = { which = "total_faction_mood_feudal" value = -1.001 } }
									NOT = { has_character_flag = faction_feudal_unhappy }
								}
							}
							liege = { 
								clr_character_flag = faction_feudal_happy 
								set_character_flag = faction_feudal_unhappy
								clr_character_flag = faction_feudal_angry								
							}
							character_event = { id = 1900004 }
						}	
						if = {
							limit = {	
								liege = {
									NOT = { check_variable = { which = "total_faction_mood_feudal" value = -4.001 } }
									NOT = { has_character_flag = faction_feudal_angry }
								}
							}
							liege = { 
								clr_character_flag = faction_feudal_happy 
								clr_character_flag = faction_feudal_unhappy
								set_character_flag = faction_feudal_angry								
							}
							character_event = { id = 1900006 }
						}						
					}
					if = {
						limit = {
							OR = {
								leads_faction = faction_republican_emperor
								leads_faction = faction_republican_king
								leads_faction = faction_republican_duke
							}
						}
						if = {
							limit = {	
								liege = {
									check_variable = { which = "total_faction_mood_republican" value = 4.00 }
									NOT = { has_character_flag = faction_republican_happy }
								}
							}
							liege = { 
								set_character_flag = faction_republican_happy 
								clr_character_flag = faction_republican_unhappy
								clr_character_flag = faction_republican_angry								
							}
							character_event = { id = 1900008 }
						}	
						if = {
							limit = {	
								liege = {
									check_variable = { which = "total_faction_mood_republican" value = -1.00 }
									NOT = { check_variable = { which = "total_faction_mood_republican" value = 4.001 } }
									OR = {
										has_character_flag = faction_republican_happy
										has_character_flag = faction_republican_unhappy
										has_character_flag = faction_republican_angry									
									}
								}
							}
							liege = { 
								clr_character_flag = faction_republican_happy 
								clr_character_flag = faction_republican_unhappy
								clr_character_flag = faction_republican_angry								
							}
							character_event = { id = 1900010 }
						}
						if = {
							limit = {	
								liege = {
									check_variable = { which = "total_faction_mood_republican" value = -4.00 }
									NOT = { check_variable = { which = "total_faction_mood_republican" value = -1.001 } }
									NOT = { has_character_flag = faction_republican_unhappy }
								}
							}
							liege = { 
								clr_character_flag = faction_republican_happy 
								set_character_flag = faction_republican_unhappy
								clr_character_flag = faction_republican_angry								
							}
							character_event = { id = 1900012 }
						}	
						if = {
							limit = {	
								liege = {
									NOT = { check_variable = { which = "total_faction_mood_republican" value = -4.001 } }
									NOT = { has_character_flag = faction_republican_angry }
								}
							}
							liege = { 
								clr_character_flag = faction_republican_happy 
								clr_character_flag = faction_republican_unhappy
								set_character_flag = faction_republican_angry								
							}
							character_event = { id = 1900014 }
						}						
					}	
					if = {
						limit = {
							OR = {
								leads_faction = faction_religious_emperor
								leads_faction = faction_religious_king
								leads_faction = faction_religious_duke
							}
						}
						if = {
							limit = {	
								liege = {
									check_variable = { which = "total_faction_mood_religious" value = 4.00 }
									NOT = { has_character_flag = faction_religious_happy }
								}
							}
							liege = { 
								set_character_flag = faction_religious_happy 
								clr_character_flag = faction_religious_unhappy
								clr_character_flag = faction_religious_angry								
							}
							character_event = { id = 1900016 }
						}	
						if = {
							limit = {	
								liege = {
									check_variable = { which = "total_faction_mood_religious" value = -1.00 }
									NOT = { check_variable = { which = "total_faction_mood_religious" value = 4.001 } }
									OR = {
										has_character_flag = faction_religious_happy
										has_character_flag = faction_religious_unhappy
										has_character_flag = faction_religious_angry									
									}
								}
							}
							liege = { 
								clr_character_flag = faction_religious_happy 
								clr_character_flag = faction_religious_unhappy
								clr_character_flag = faction_religious_angry								
							}
							character_event = { id = 1900018 }
						}
						if = {
							limit = {	
								liege = {
									check_variable = { which = "total_faction_mood_religious" value = -4.00 }
									NOT = { check_variable = { which = "total_faction_mood_religious" value = -1.001 } }
									NOT = { has_character_flag = faction_religious_unhappy }
								}
							}
							liege = { 
								clr_character_flag = faction_religious_happy 
								set_character_flag = faction_religious_unhappy
								clr_character_flag = faction_religious_angry								
							}
							character_event = { id = 1900020 }
						}	
						if = {
							limit = {	
								liege = {
									NOT = { check_variable = { which = "total_faction_mood_religious" value = -4.001 } }
									NOT = { has_character_flag = faction_religious_angry }
								}
							}
							liege = { 
								clr_character_flag = faction_religious_happy 
								clr_character_flag = faction_religious_unhappy
								set_character_flag = faction_religious_angry								
							}
							character_event = { id = 1900022 }
						}						
					}
					if = {
						limit = {
							OR = {
								leads_faction = faction_court_emperor
								leads_faction = faction_court_king
								leads_faction = faction_court_duke
							}	
						}
						if = {
							limit = {	
								liege = {
									check_variable = { which = "total_faction_mood_court" value = 4.00 }
									NOT = { has_character_flag = faction_court_happy }
								}
							}
							liege = { 
								set_character_flag = faction_court_happy 
								clr_character_flag = faction_court_unhappy
								clr_character_flag = faction_court_angry								
							}
							character_event = { id = 1900024 }
						}	
						if = {
							limit = {	
								liege = {
									check_variable = { which = "total_faction_mood_court" value = -1.00 }
									NOT = { check_variable = { which = "total_faction_mood_court" value = 4.001 } }
									OR = {
										has_character_flag = faction_court_happy
										has_character_flag = faction_court_unhappy
										has_character_flag = faction_court_angry									
									}
								}
							}
							liege = { 
								clr_character_flag = faction_court_happy 
								clr_character_flag = faction_court_unhappy
								clr_character_flag = faction_court_angry								
							}
							character_event = { id = 1900026 }
						}
						if = {
							limit = {	
								liege = {
									check_variable = { which = "total_faction_mood_court" value = -4.00 }
									NOT = { check_variable = { which = "total_faction_mood_court" value = -1.001 } }
									NOT = { has_character_flag = faction_court_unhappy }
								}
							}
							liege = { 
								clr_character_flag = faction_court_happy 
								set_character_flag = faction_court_unhappy
								clr_character_flag = faction_court_angry								
							}
							character_event = { id = 1900028 }
						}	
						if = {
							limit = {	
								liege = {
									NOT = { check_variable = { which = "total_faction_mood_court" value = -4.001 } }
									NOT = { has_character_flag = faction_court_angry }
								}
							}
							liege = { 
								clr_character_flag = faction_court_happy 
								clr_character_flag = faction_court_unhappy
								set_character_flag = faction_court_angry								
							}
							character_event = { id = 1900030 }
						}						
					}					
				}				
			}
			#general maintenance
			any_playable_ruler = {
				if = {
					limit = {
						war = yes
					}
					set_variable = { which = "years_of_peace" value = 0 }
				}					
				if = {
					limit = {
						war = no
					}
					change_variable = { which = "years_of_peace" value = 1 }
					disband_event_forces = decadence_revolters
				}
				any_demesne_title = {
					limit = {
						OR = {
							is_primary_holder_title = yes
							higher_tier_than = duke
						}
					}
					if = {
						limit = {
							OR = {
								is_landless_type_title = yes
								holder_scope = { 
									is_feudal = no
									OR = {
										is_theocracy = no
										NOT = { religion = catholic }
									}
								}
							}
							NOT = { has_law = succ_open_elective }
						}
						add_law = succ_open_elective
					}
					if = {
						limit = {
							is_landless_type_title = no
							holder_scope = { 
								is_theocracy = yes
								religion = catholic
							}
							NOT = { has_law = succ_catholic_bishopric }
						}
						add_law = succ_catholic_bishopric
					}
					if = {
						limit = {
							is_landless_type_title = no
							holder_scope = { 
								is_feudal = yes
								religion_group = muslim
							}
							NOT = { has_law = succ_turkish_succession }
						}
						add_law = succ_turkish_succession
					}					
					if = {
						limit = {
							is_landless_type_title = no
							holder_scope = { 
								is_feudal = yes
								NOT = { religion_group = muslim }
							}
							NOT = { has_law = succ_primogeniture }
							NOT = { has_law = succ_gavelkind }
							NOT = { has_law = succ_feudal_elective }
							NOT = { has_law = succ_seniority }
						}
						add_law = succ_primogeniture
					}
					if = {
						limit = {
							higher_tier_than = DUKE
							holder_scope = { 
								religion = catholic
							}
							NOT = { has_law = investiture_law_0 }
							NOT = { has_law = investiture_law_1 }							
						}
						add_law = investiture_law_0
					}	
					if = {
						limit = {
							higher_tier_than = DUKE
							holder_scope = { 
								NOT = { religion = catholic }
							}
							OR = {
								has_law = investiture_law_0
								has_law = investiture_law_1 
							}							
						}
						revoke_law = investiture_law_0
						revoke_law = investiture_law_1
					}						
				}
				any_demesne_title = {
					limit = {
						higher_tier_than = baron
						is_primary_holder_title = no
						OR = {
							is_primary_holder_title_tier = yes
							higher_tier_than = duke
						}
					}
					if = {
						limit = {
							holder_scope = {
								primary_title = {
									has_law = feudal_tax_0
								}
							}
							NOT = { has_law = feudal_tax_0 }
						}
						add_law = feudal_tax_0
					}
					if = {
						limit = {
							holder_scope = {
								primary_title = {
									has_law = feudal_tax_1
								}
							}
							NOT = { has_law = feudal_tax_1 }
						}
						add_law = feudal_tax_1
					}	
					if = {
						limit = {
							holder_scope = {
								primary_title = {
									has_law = feudal_tax_2
								}
							}
							NOT = { has_law = feudal_tax_2 }
						}
						add_law = feudal_tax_2
					}
					if = {
						limit = {
							holder_scope = {
								primary_title = {
									has_law = city_tax_0
								}
							}
							NOT = { has_law = city_tax_0 }
						}
						add_law = city_tax_0
					}
					if = {
						limit = {
							holder_scope = {
								primary_title = {
									has_law = city_tax_1
								}
							}
							NOT = { has_law = city_tax_1 }
						}
						add_law = city_tax_1
					}	
					if = {
						limit = {
							holder_scope = {
								primary_title = {
									has_law = city_tax_2
								}
							}
							NOT = { has_law = city_tax_2 }
						}
						add_law = city_tax_2
					}						
					if = {
						limit = {
							holder_scope = {
								primary_title = {
									has_law = temple_tax_0
								}
							}
							NOT = { has_law = temple_tax_0 }
						}
						add_law = temple_tax_0
					}
					if = {
						limit = {
							holder_scope = {
								primary_title = {
									has_law = temple_tax_1
								}
							}
							NOT = { has_law = temple_tax_1 }
						}
						add_law = temple_tax_1
					}	
					if = {
						limit = {
							holder_scope = {
								primary_title = {
									has_law = temple_tax_2
								}
							}
							NOT = { has_law = temple_tax_2 }
						}
						add_law = temple_tax_2
					}	
					if = {
						limit = {
							holder_scope = {
								primary_title = {
									has_law = tax_privileges_0
								}
							}
							NOT = { has_law = tax_privileges_0 }
						}
						add_law = tax_privileges_0
					}
					if = {
						limit = {
							holder_scope = {
								primary_title = {
									has_law = tax_privileges_1
								}
							}
							NOT = { has_law = tax_privileges_1 }
						}
						add_law = tax_privileges_1
					}	
					if = {
						limit = {
							holder_scope = {
								primary_title = {
									has_law = tax_privileges_2
								}
							}
							NOT = { has_law = tax_privileges_2 }
						}
						add_law = tax_privileges_2
					}
					if = {
						limit = {
							holder_scope = {
								primary_title = {
									has_law = levy_privileges_0
								}
							}
							NOT = { has_law = levy_privileges_0 }
						}
						add_law = levy_privileges_0
					}
					if = {
						limit = {
							holder_scope = {
								primary_title = {
									has_law = levy_privileges_1
								}
							}
							NOT = { has_law = levy_privileges_1 }
						}
						add_law = levy_privileges_1
					}
					if = {
						limit = {
							holder_scope = {
								primary_title = {
									has_law = council_privileges_0
								}
							}
							NOT = { has_law = council_privileges_0 }
						}
						add_law = council_privileges_0
					}
					if = {
						limit = {
							holder_scope = {
								primary_title = {
									has_law = council_privileges_1
								}
							}
							NOT = { has_law = council_privileges_1 }
						}
						add_law = council_privileges_1
					}
					if = {
						limit = {
							holder_scope = {
								primary_title = {
									has_law = succ_catholic_bishopric
								}
							}
							NOT = { has_law = succ_catholic_bishopric }
						}
						add_law_w_cooldown = succ_catholic_bishopric
					}					
					if = {
						limit = {
							holder_scope = {
								primary_title = {
									has_law = succ_gavelkind
								}
							}
							NOT = { has_law = succ_gavelkind }
						}
						add_law_w_cooldown = succ_gavelkind
					}
					if = {
						limit = {
							holder_scope = {
								primary_title = {
									has_law = succ_primogeniture
								}
							}
							NOT = { has_law = succ_primogeniture }
						}
						add_law_w_cooldown = succ_primogeniture
					}
					if = {
						limit = {
							holder_scope = {
								primary_title = {
									has_law = succ_feudal_elective
								}
							}
							NOT = { has_law = succ_feudal_elective }
						}
						add_law_w_cooldown = succ_feudal_elective
					}
					if = {
						limit = {
							holder_scope = {
								primary_title = {
									has_law = succ_seniority
								}
							}
							NOT = { has_law = succ_seniority }
						}
						add_law_w_cooldown = succ_seniority
					}					
					if = {
						limit = {
							holder_scope = {
								primary_title = {
									has_law = succ_turkish_succession
								}
							}
							NOT = { has_law = succ_turkish_succession }
						}
						add_law_w_cooldown = succ_turkish_succession
					}
					if = {
						limit = {
							holder_scope = {
								primary_title = {
									has_law = succ_open_elective
								}
							}
							NOT = { has_law = succ_open_elective }
						}
						add_law_w_cooldown = succ_open_elective
					}	
					if = {
						limit = {
							holder_scope = {
								primary_title = {
									has_law = cognatic_succession
								}
							}
							NOT = { has_law = cognatic_succession }
						}
						add_law_w_cooldown = cognatic_succession
					}
					if = {
						limit = {
							holder_scope = {
								primary_title = {
									has_law = true_cognatic_succession
								}
							}
							NOT = { has_law = true_cognatic_succession }
						}
						add_law_w_cooldown = true_cognatic_succession
					}		
					if = {
						limit = {
							holder_scope = {
								primary_title = {
									has_law = agnatic_succession
								}
							}
							NOT = { has_law = agnatic_succession }
						}
						add_law_w_cooldown = agnatic_succession
					}							
				}
				if = {
					limit = {
						NOT = { check_variable = { which = "dishonorable_reduction" value = 19.5 } }
						OR = {
							trait = dishonorable1
							trait = dishonorable2
							trait = dishonorable3
							trait = dishonorable4
							trait = dishonorable5
							trait = dishonorable6
							trait = dishonorable7
							trait = dishonorable8
							trait = dishonorable9
							trait = dishonorable10
							trait = dyn_dishonorable1
							trait = dyn_dishonorable2
							trait = dyn_dishonorable3
							trait = dyn_dishonorable4
							trait = dyn_dishonorable5
							trait = dyn_dishonorable6
							trait = dyn_dishonorable7
							trait = dyn_dishonorable8
							trait = dyn_dishonorable9
							trait = dyn_dishonorable10
						}
					}
					change_variable = { which = "dishonorable_reduction" value = 1 }
				}				
				if = {
					limit = {
						check_variable = { which = "dishonorable_reduction" value = 19.5 }
						OR = {
							trait = dishonorable1
							trait = dishonorable2
							trait = dishonorable3
							trait = dishonorable4
							trait = dishonorable5
							trait = dishonorable6
							trait = dishonorable7
							trait = dishonorable8
							trait = dishonorable9
							trait = dishonorable10
							trait = dyn_dishonorable1
							trait = dyn_dishonorable2
							trait = dyn_dishonorable3
							trait = dyn_dishonorable4
							trait = dyn_dishonorable5
							trait = dyn_dishonorable6
							trait = dyn_dishonorable7
							trait = dyn_dishonorable8
							trait = dyn_dishonorable9
							trait = dyn_dishonorable10
						}
					}
					set_variable = { which = "dishonorable_reduction" value = 0 }
					if = {
						limit = {
							trait = dishonorable1
						}
						remove_trait = dishonorable1
					}
					if = {
						limit = {
							trait = dishonorable2
						}
						remove_trait = dishonorable2
						add_trait = dishonorable1
					}
					if = {
						limit = {
							trait = dishonorable3
						}
						remove_trait = dishonorable3
						add_trait = dishonorable2
					}
					if = {
						limit = {
							trait = dishonorable4
						}
						remove_trait = dishonorable4
						add_trait = dishonorable3
					}
					if = {
						limit = {
							trait = dishonorable5
						}
						remove_trait = dishonorable5
						add_trait = dishonorable4
					}
					if = {
						limit = {
							trait = dishonorable6
						}
						remove_trait = dishonorable6
						add_trait = dishonorable5
					}
					if = {
						limit = {
							trait = dishonorable7
						}
						remove_trait = dishonorable7
						add_trait = dishonorable6
					}
					if = {
						limit = {
							trait = dishonorable8
						}
						remove_trait = dishonorable8
						add_trait = dishonorable7
					}
					if = {
						limit = {
							trait = dishonorable9
						}
						remove_trait = dishonorable9
						add_trait = dishonorable8
					}
					if = {
						limit = {
							trait = dishonorable10
						}
						remove_trait = dishonorable10
						add_trait = dishonorable9
					}
					if = {
						limit = {
							trait = dyn_dishonorable1
						}
						remove_trait = dyn_dishonorable1
					}
					if = {
						limit = {
							trait = dyn_dishonorable2
						}
						remove_trait = dyn_dishonorable2
						add_trait = dyn_dishonorable1
					}
					if = {
						limit = {
							trait = dyn_dishonorable3
						}
						remove_trait = dyn_dishonorable3
						add_trait = dyn_dishonorable2
					}
					if = {
						limit = {
							trait = dyn_dishonorable4
						}
						remove_trait = dyn_dishonorable4
						add_trait = dyn_dishonorable3
					}
					if = {
						limit = {
							trait = dyn_dishonorable5
						}
						remove_trait = dyn_dishonorable5
						add_trait = dyn_dishonorable4
					}
					if = {
						limit = {
							trait = dyn_dishonorable6
						}
						remove_trait = dyn_dishonorable6
						add_trait = dyn_dishonorable5
					}
					if = {
						limit = {
							trait = dyn_dishonorable7
						}
						remove_trait = dyn_dishonorable7
						add_trait = dyn_dishonorable6
					}
					if = {
						limit = {
							trait = dyn_dishonorable8
						}
						remove_trait = dyn_dishonorable8
						add_trait = dyn_dishonorable7
					}
					if = {
						limit = {
							trait = dyn_dishonorable9
						}
						remove_trait = dyn_dishonorable9
						add_trait = dyn_dishonorable8
					}
					if = {
						limit = {
							trait = dyn_dishonorable10
						}
						remove_trait = dyn_dishonorable10
						add_trait = dyn_dishonorable9
					}					
				}
				if = {
					limit = {
						NOT = { check_variable = { which = "tyranny_reduction" value = 4.5 } }
						OR = {
							trait = tyrant1
							trait = tyrant2
							trait = tyrant3
							trait = tyrant4
							trait = tyrant5
							trait = tyrant6
							trait = tyrant7
							trait = tyrant8
							trait = tyrant9
							trait = tyrant10
							trait = tyrant11
							trait = tyrant12
							trait = tyrant13
							trait = tyrant14
							trait = tyrant15
							trait = tyrant16
							trait = tyrant17
							trait = tyrant18
							trait = tyrant19
							trait = tyrant20
						}
					}
					change_variable = { which = "tyranny_reduction" value = 1 }					
				}				
				if = {
					limit = {
						check_variable = { which = "tyranny_reduction" value = 4.5 }
						OR = {
							trait = tyrant1
							trait = tyrant2
							trait = tyrant3
							trait = tyrant4
							trait = tyrant5
							trait = tyrant6
							trait = tyrant7
							trait = tyrant8
							trait = tyrant9
							trait = tyrant10
							trait = tyrant11
							trait = tyrant12
							trait = tyrant13
							trait = tyrant14
							trait = tyrant15
							trait = tyrant16
							trait = tyrant17
							trait = tyrant18
							trait = tyrant19
							trait = tyrant20
						}
					}
					set_variable = { which = "tyranny_reduction" value = 0 }
					if = {
						limit = {
							trait = tyrant1
						}
						remove_trait = tyrant1
					}
					if = {
						limit = {
							trait = tyrant2
						}
						remove_trait = tyrant2
						add_trait = tyrant1
					}
					if = {
						limit = {
							trait = tyrant3
						}
						remove_trait = tyrant3
						add_trait = tyrant2
					}
					if = {
						limit = {
							trait = tyrant4
						}
						remove_trait = tyrant4
						add_trait = tyrant3
					}
					if = {
						limit = {
							trait = tyrant5
						}
						remove_trait = tyrant5
						add_trait = tyrant4
					}
					if = {
						limit = {
							trait = tyrant6
						}
						remove_trait = tyrant6
						add_trait = tyrant5
					}
					if = {
						limit = {
							trait = tyrant7
						}
						remove_trait = tyrant7
						add_trait = tyrant6
					}
					if = {
						limit = {
							trait = tyrant8
						}
						remove_trait = tyrant8
						add_trait = tyrant7
					}
					if = {
						limit = {
							trait = tyrant9
						}
						remove_trait = tyrant9
						add_trait = tyrant8
					}
					if = {
						limit = {
							trait = tyrant10
						}
						remove_trait = tyrant10
						add_trait = tyrant9
					}
					if = {
						limit = {
							trait = tyrant11
						}
						remove_trait = tyrant11
						add_trait = tyrant10
					}	
					if = {
						limit = {
							trait = tyrant12
						}
						remove_trait = tyrant12
						add_trait = tyrant11
					}
					if = {
						limit = {
							trait = tyrant13
						}
						remove_trait = tyrant13
						add_trait = tyrant12
					}
					if = {
						limit = {
							trait = tyrant14
						}
						remove_trait = tyrant14
						add_trait = tyrant13
					}	
					if = {
						limit = {
							trait = tyrant15
						}
						remove_trait = tyrant15
						add_trait = tyrant14
					}
					if = {
						limit = {
							trait = tyrant16
						}
						remove_trait = tyrant16
						add_trait = tyrant15
					}
					if = {
						limit = {
							trait = tyrant17
						}
						remove_trait = tyrant17
						add_trait = tyrant16
					}	
					if = {
						limit = {
							trait = tyrant18
						}
						remove_trait = tyrant18
						add_trait = tyrant17
					}
					if = {
						limit = {
							trait = tyrant19
						}
						remove_trait = tyrant19
						add_trait = tyrant18
					}
					if = {
						limit = {
							trait = tyrant20
						}
						remove_trait = tyrant20
						add_trait = tyrant19
					}					
				}				
			}
		}
		ai_will_do = {
			factor = 100
		}
	}	
}
