character_event = {
	id = 1900000
	is_triggered_only = yes
	hide_from = yes
	
	desc = "EVTDESC1900000"
	
	option = {
		name = "OK"
		hidden_tooltip = {
			if = {
				limit = {
					NOT = { has_character_flag = no_notification }
				}
				liege = {
					character_event = { id = 1900001 }
					any_vassal = {
						limit = { 
							ai = no
							OR = {
								in_faction = faction_feudal_emperor
								in_faction = faction_feudal_king
								in_faction = faction_feudal_duke						
							}	
						}
						set_character_flag = no_notification
						character_event = { id = 1900000 }
					}
				}
			}
			clr_character_flag = no_notification
		}
	}
}

character_event = {
	id = 1900001
	is_triggered_only = yes
	
	desc = "EVTDESC1900001"
	
	option = {
		name = "OK"
	}
}

character_event = {
	id = 1900002
	is_triggered_only = yes
	hide_from = yes
	
	desc = "EVTDESC1900002"
	
	option = {
		name = "OK"
		hidden_tooltip = {
			if = {
				limit = {
					NOT = { has_character_flag = no_notification }
				}
				liege = {
					character_event = { id = 1900003 }
					any_vassal = {
						limit = { 
							ai = no
							OR = {
								in_faction = faction_feudal_emperor
								in_faction = faction_feudal_king
								in_faction = faction_feudal_duke						
							}
						}
						set_character_flag = no_notification
						character_event = { id = 1900002 }
					}
				}
			}
			clr_character_flag = no_notification
		}
	}
}

character_event = {
	id = 1900003
	is_triggered_only = yes
	
	desc = "EVTDESC1900003"
	
	option = {
		name = "OK"
	}
}

character_event = {
	id = 1900004
	is_triggered_only = yes
	hide_from = yes
	
	desc = "EVTDESC1900004"
	
	option = {
		name = "OK"
		hidden_tooltip = {
			if = {
				limit = {
					NOT = { has_character_flag = no_notification }
				}
				liege = {
					character_event = { id = 1900005 }
					any_vassal = {
						limit = { 
							ai = no
							OR = {
								in_faction = faction_feudal_emperor
								in_faction = faction_feudal_king
								in_faction = faction_feudal_duke						
							}
						}
						set_character_flag = no_notification
						character_event = { id = 1900004 }
					}
				}
			}
			clr_character_flag = no_notification
		}
	}
}

character_event = {
	id = 1900005
	is_triggered_only = yes
	
	desc = "EVTDESC1900005"
	
	option = {
		name = "OK"
	}
}

character_event = {
	id = 1900006
	is_triggered_only = yes
	hide_from = yes
	
	desc = "EVTDESC1900006"
	
	option = {
		name = "OK"
		hidden_tooltip = {
			if = {
				limit = {
					NOT = { has_character_flag = no_notification }
				}
				liege = {
					character_event = { id = 1900007 }
					any_vassal = {
						limit = { 
							ai = no
							OR = {
								in_faction = faction_feudal_emperor
								in_faction = faction_feudal_king
								in_faction = faction_feudal_duke						
							}
						}
						set_character_flag = no_notification						
						character_event = { id = 1900006 }
					}
				}
			}
			clr_character_flag = no_notification
		}
	}
}

character_event = {
	id = 1900007
	is_triggered_only = yes
	
	desc = "EVTDESC1900007"
	
	option = {
		name = "OK"
	}
}

character_event = {
	id = 1900008
	is_triggered_only = yes
	hide_from = yes
	
	desc = "EVTDESC1900008"
	
	option = {
		name = "OK"
		hidden_tooltip = {
			if = {
				limit = {
					NOT = { has_character_flag = no_notification }
				}
				liege = {
					character_event = { id = 1900009 }
					any_vassal = {
						limit = { 
							ai = no
							OR = {
								in_faction = faction_republican_emperor
								in_faction = faction_republican_king
								in_faction = faction_republican_duke						
							}
						}
						set_character_flag = no_notification						
						character_event = { id = 1900008 }
					}
				}
			}
			clr_character_flag = no_notification
		}
	}
}

character_event = {
	id = 1900009
	is_triggered_only = yes
	
	desc = "EVTDESC1900009"
	
	option = {
		name = "OK"
	}
}

character_event = {
	id = 1900010
	is_triggered_only = yes
	hide_from = yes
	
	desc = "EVTDESC1900010"
	
	option = {
		name = "OK"
		hidden_tooltip = {
			if = {
				limit = {
					NOT = { has_character_flag = no_notification }
				}
				liege = {
					character_event = { id = 1900011 }
					any_vassal = {
						limit = { 
							ai = no
							OR = {
								in_faction = faction_republican_emperor
								in_faction = faction_republican_king
								in_faction = faction_republican_duke						
							}
						}
						set_character_flag = no_notification						
						character_event = { id = 1900010 }
					}
				}
			}
			clr_character_flag = no_notification
		}
	}
}

character_event = {
	id = 1900011
	is_triggered_only = yes
	
	desc = "EVTDESC1900011"
	
	option = {
		name = "OK"
	}
}

character_event = {
	id = 1900012
	is_triggered_only = yes
	hide_from = yes
	
	desc = "EVTDESC1900012"
	
	option = {
		name = "OK"
		hidden_tooltip = {
			if = {
				limit = {
					NOT = { has_character_flag = no_notification }
				}
				liege = {
					character_event = { id = 1900013 }
					any_vassal = {
						limit = { 
							ai = no
							OR = {
								in_faction = faction_republican_emperor
								in_faction = faction_republican_king
								in_faction = faction_republican_duke						
							}
						}
						set_character_flag = no_notification						
						character_event = { id = 1900012 }
					}
				}
			}
			clr_character_flag = no_notification
		}
	}
}

character_event = {
	id = 1900013
	is_triggered_only = yes
	
	desc = "EVTDESC1900013"
	
	option = {
		name = "OK"
	}
}

character_event = {
	id = 1900014
	is_triggered_only = yes
	hide_from = yes
	
	desc = "EVTDESC1900014"
	
	option = {
		name = "OK"
		hidden_tooltip = {
			if = {
				limit = {
					NOT = { has_character_flag = no_notification }
				}
				liege = {
					character_event = { id = 1900015 }
					any_vassal = {
						limit = { 
							ai = no
							OR = {
								in_faction = faction_republican_emperor
								in_faction = faction_republican_king
								in_faction = faction_republican_duke						
							}
						}
						set_character_flag = no_notification						
						character_event = { id = 1900014 }
					}
				}
			}
			clr_character_flag = no_notification
		}
	}
}

character_event = {
	id = 1900015
	is_triggered_only = yes
	
	desc = "EVTDESC1900015"
	
	option = {
		name = "OK"
	}
}

character_event = {
	id = 1900016
	is_triggered_only = yes
	hide_from = yes
	
	desc = "EVTDESC1900016"
	
	option = {
		name = "OK"
		hidden_tooltip = {
			if = {
				limit = {
					NOT = { has_character_flag = no_notification }
				}
				liege = {
					character_event = { id = 1900017 }
					any_vassal = {
						limit = { 
							ai = no
							OR = {
								in_faction = faction_religious_emperor
								in_faction = faction_religious_king
								in_faction = faction_religious_duke						
							}
						}
						set_character_flag = no_notification						
						character_event = { id = 1900016 }
					}
				}
			}
			clr_character_flag = no_notification
		}
	}
}

character_event = {
	id = 1900017
	is_triggered_only = yes
	
	desc = "EVTDESC1900017"
	
	option = {
		name = "OK"
	}
}

character_event = {
	id = 1900018
	is_triggered_only = yes
	hide_from = yes
	
	desc = "EVTDESC1900018"
	
	option = {
		name = "OK"
		hidden_tooltip = {
			if = {
				limit = {
					NOT = { has_character_flag = no_notification }
				}
				liege = {
					character_event = { id = 1900019 }
					any_vassal = {
						limit = { 
							ai = no
							OR = {
								in_faction = faction_religious_emperor
								in_faction = faction_religious_king
								in_faction = faction_religious_duke						
							}
						}
						set_character_flag = no_notification						
						character_event = { id = 1900018 }
					}
				}
			}
			clr_character_flag = no_notification
		}
	}
}

character_event = {
	id = 1900019
	is_triggered_only = yes
	
	desc = "EVTDESC1900019"
	
	option = {
		name = "OK"
	}
}

character_event = {
	id = 1900020
	is_triggered_only = yes
	hide_from = yes
	
	desc = "EVTDESC1900020"
	
	option = {
		name = "OK"
		hidden_tooltip = {
			if = {
				limit = {
					NOT = { has_character_flag = no_notification }
				}
				liege = {
					character_event = { id = 1900021 }
					any_vassal = {
						limit = { 
							ai = no
							OR = {
								in_faction = faction_religious_emperor
								in_faction = faction_religious_king
								in_faction = faction_religious_duke						
							}
						}
						set_character_flag = no_notification						
						character_event = { id = 1900020 }
					}
				}
			}
			clr_character_flag = no_notification
		}
	}
}

character_event = {
	id = 1900021
	is_triggered_only = yes
	
	desc = "EVTDESC1900021"
	
	option = {
		name = "OK"
	}
}

character_event = {
	id = 1900022
	is_triggered_only = yes
	hide_from = yes
	
	desc = "EVTDESC1900022"
	
	option = {
		name = "OK"
		hidden_tooltip = {
			if = {
				limit = {
					NOT = { has_character_flag = no_notification }
				}
				liege = {
					character_event = { id = 1900023 }
					any_vassal = {
						limit = { 
							ai = no
							OR = {
								in_faction = faction_religious_emperor
								in_faction = faction_religious_king
								in_faction = faction_religious_duke						
							}
						}
						set_character_flag = no_notification						
						character_event = { id = 1900022 }
					}	
				}
			}
			clr_character_flag = no_notification
		}
	}
}

character_event = {
	id = 1900023
	is_triggered_only = yes
	
	desc = "EVTDESC1900023"
	
	option = {
		name = "OK"
	}
}

character_event = {
	id = 1900024
	is_triggered_only = yes
	hide_from = yes
	
	desc = "EVTDESC1900024"
	
	option = {
		name = "OK"
		hidden_tooltip = {
			if = {
				limit = {
					NOT = { has_character_flag = no_notification }
				}
				liege = {
					character_event = { id = 1900025 }
					any_vassal = {
						limit = { 
							ai = no
							OR = {
								in_faction = faction_court_emperor
								in_faction = faction_court_king
								in_faction = faction_court_duke						
							}
						}
						set_character_flag = no_notification						
						character_event = { id = 1900024 }
					}		
				}
			}
			clr_character_flag = no_notification
		}
	}
}

character_event = {
	id = 1900025
	is_triggered_only = yes
	
	desc = "EVTDESC1900025"
	
	option = {
		name = "OK"
	}
}

character_event = {
	id = 1900026
	is_triggered_only = yes
	hide_from = yes
	
	desc = "EVTDESC1900026"
	
	option = {
		name = "OK"
		hidden_tooltip = {
			if = {
				limit = {
					NOT = { has_character_flag = no_notification }
				}
				liege = {
					character_event = { id = 1900027 }
					any_vassal = {
						limit = { 
							ai = no
							OR = {
								in_faction = faction_court_emperor
								in_faction = faction_court_king
								in_faction = faction_court_duke						
							}
						}
						set_character_flag = no_notification						
						character_event = { id = 1900026 }
					}
				}
			}
			clr_character_flag = no_notification
		}
	}
}

character_event = {
	id = 1900027
	is_triggered_only = yes
	
	desc = "EVTDESC1900027"
	
	option = {
		name = "OK"
	}
}

character_event = {
	id = 1900028
	is_triggered_only = yes
	hide_from = yes
	
	desc = "EVTDESC1900028"
	
	option = {
		name = "OK"
		hidden_tooltip = {
			if = {
				limit = {
					NOT = { has_character_flag = no_notification }
				}
				liege = {
					character_event = { id = 1900029 }
					any_vassal = {
						limit = { 
							ai = no
							OR = {
								in_faction = faction_court_emperor
								in_faction = faction_court_king
								in_faction = faction_court_duke						
							}
						}
						set_character_flag = no_notification						
						character_event = { id = 1900028 }
					}
				}
			}
			clr_character_flag = no_notification
		}
	}
}

character_event = {
	id = 1900029
	is_triggered_only = yes
	
	desc = "EVTDESC1900029"
	
	option = {
		name = "OK"
	}
}

character_event = {
	id = 1900030
	is_triggered_only = yes
	hide_from = yes
	
	desc = "EVTDESC1900030"
	
	option = {
		name = "OK"
		hidden_tooltip = {
			if = {
				limit = {
					NOT = { has_character_flag = no_notification }
				}
				liege = {
					character_event = { id = 1900031 }
					any_vassal = {
						limit = { 
							ai = no
							OR = {
								in_faction = faction_court_emperor
								in_faction = faction_court_king
								in_faction = faction_court_duke						
							}
						}
						set_character_flag = no_notification
						character_event = { id = 1900030 }
					}		
				}
			}
			clr_character_flag = no_notification
		}
	}
}

character_event = {
	id = 1900031
	is_triggered_only = yes
	
	desc = "EVTDESC1900031"
	
	option = {
		name = "OK"
	}
}

# Faction leader is given chance to influence faction mood
character_event = {
	id = 1900500
	picture = "GFX_evt_council"

	trigger = {
		OR = {
			leads_faction = faction_feudal_emperor
			leads_faction = faction_feudal_king
			leads_faction = faction_feudal_duke
			leads_faction = faction_religious_emperor
			leads_faction = faction_religious_king
			leads_faction = faction_religious_duke
			leads_faction = faction_republican_emperor
			leads_faction = faction_republican_king
			leads_faction = faction_republican_duke
			leads_faction = faction_court_emperor
			leads_faction = faction_court_king
			leads_faction = faction_court_duke
		}
		OR = {
			NOT = { has_character_flag = faction_speech }
			had_character_flag = {
				flag = faction_speech
				days = 730
			}
		}
	}
	
	immediate = {
		set_character_flag = faction_speech
	}
	
	mean_time_to_happen = {
		months = 240
		modifier = {
			factor = 2.00
			NOT = { diplomacy = 5 }
		}
		modifier = {
			factor = 0.75
			diplomacy = 10
		}
		modifier = {
			factor = 0.75
			diplomacy = 15
		}	
		modifier = {
			factor = 0.75
			diplomacy = 20
		}
		modifier = {
			factor = 0.75
			diplomacy = 25
		}				
	}
	
	desc = "EVTDESC1900500"
	
	option = {
		name = "EVTOPTA1900500"
		ai_chance = {
			factor = 50
			modifier = {
				factor = 2
				opinion = {
					who = liege
					value = 25
				}
			}
			modifier = {
				factor = 2
				opinion = {
					who = liege
					value = 50
				}
			}
			modifier = {
				factor = 2
				opinion = {
					who = liege
					value = 75
				}
			}
			modifier = {
				factor = 2
				opinion = {
					who = liege
					value = 100
				}
			}			
		}
		if = {
			limit = {	
				OR = {
					leads_faction = faction_feudal_emperor
					leads_faction = faction_feudal_king
					leads_faction = faction_feudal_duke
				}
			}
			liege = {
				change_variable = { which = "faction_mood_feudal" value = 2 }
				hidden_tooltip = { random_courtier = { limit = { ai = yes } character_event = { id = 110073 days = 1 } } }
				custom_tooltip = FEUDALFACTIONMOODPLUS
			}
		}
		if = {
			limit = {
				OR = {
					leads_faction = faction_republican_emperor
					leads_faction = faction_republican_king
					leads_faction = faction_republican_duke
				}
			}
			liege = {
				change_variable = { which = "faction_mood_republican" value = 2 }
				hidden_tooltip = { random_courtier = { limit = { ai = yes } character_event = { id = 110073 days = 1 } } }
				custom_tooltip = REPUBLICANFACTIONMOODPLUS
			}
		}
		if = {
			limit = {
				OR = {
					leads_faction = faction_religious_emperor
					leads_faction = faction_religious_king
					leads_faction = faction_religious_duke
				}
			}
			liege = {
				change_variable = { which = "faction_mood_religious" value = 2 }
				hidden_tooltip = { random_courtier = { limit = { ai = yes } character_event = { id = 110073 days = 1 } } }
				custom_tooltip = RELIGIOUSFACTIONMOODPLUS
			}
		}
		if = {
			limit = {
				OR = {
					leads_faction = faction_court_emperor
					leads_faction = faction_court_king
					leads_faction = faction_court_duke
				}
			}
			liege = {
				change_variable = { which = "faction_mood_court" value = 2 }
				hidden_tooltip = { random_courtier = { limit = { ai = yes } character_event = { id = 110073 days = 1 } } }
				custom_tooltip = COURTFACTIONMOODPLUS
			}
		}	
		liege = {
			opinion = {
				who = ROOT
				modifier = supported_me_at_faction_meeting
				months = 24
			}
		}
	}
	option = {
		name = "EVTOPTB1900500"
		ai_chance = {
			factor = 50
			modifier = {
				factor = 2
				NOT = {
					opinion = {
						who = liege
						value = 0
					}
				}
			}
			modifier = {
				factor = 2
				NOT = {
					opinion = {
						who = liege
						value = -25
					}
				}
			}
			modifier = {
				factor = 2
				NOT = {
					opinion = {
						who = liege
						value = -50
					}
				}
			}
			modifier = {
				factor = 2
				NOT = {
					opinion = {
						who = liege
						value = -75
					}
				}
			}			
		}
		if = {
			limit = {
				OR = {
					leads_faction = faction_feudal_emperor
					leads_faction = faction_feudal_king
					leads_faction = faction_feudal_duke
				}
			}
			liege = {
				change_variable = { which = "faction_mood_feudal" value = -2 }
				hidden_tooltip = { random_courtier = { limit = { ai = yes } character_event = { id = 110073 days = 1 } } }
				custom_tooltip = FEUDALFACTIONMOODMINUS
			}
		}
		if = {
			limit = {
				OR = {
					leads_faction = faction_republican_emperor
					leads_faction = faction_republican_king
					leads_faction = faction_republican_duke
				}
			}
			liege = {
				change_variable = { which = "faction_mood_republican" value = -2 }
				hidden_tooltip = { random_courtier = { limit = { ai = yes } character_event = { id = 110073 days = 1 } } }
				custom_tooltip = REPUBLICANFACTIONMOODMINUS
			}
		}
		if = {
			limit = {
				OR = {
					leads_faction = faction_religious_emperor
					leads_faction = faction_religious_king
					leads_faction = faction_religious_duke
				}
			}
			liege = {
				change_variable = { which = "faction_mood_religious" value = -2 }
				hidden_tooltip = { random_courtier = { limit = { ai = yes } character_event = { id = 110073 days = 1 } } }
				custom_tooltip = RELIGIOUSFACTIONMOODMINUS
			}
		}
		if = {
			limit = {
				OR = {
					leads_faction = faction_court_emperor
					leads_faction = faction_court_king
					leads_faction = faction_court_duke
				}
			}
			liege = {
				change_variable = { which = "faction_mood_court" value = -2 }
				hidden_tooltip = { random_courtier = { limit = { ai = yes } character_event = { id = 110073 days = 1 } } }
				custom_tooltip = COURTFACTIONMOODMINUS
			}
		}
		liege = {
			opinion = {
				who = ROOT
				modifier = opposed_me_at_faction_meeting
				months = 24
			}
		}		
	}
	option = {
		name = "EVTOPTC1900500"
		ai_chance = {
			factor = 10
			modifier = {
				factor = 2
				trait = proud
			}
		}
		prestige = 10
		liege = {
			any_vassal = {
				limit = {
					OR = {
						AND = {
							ROOT = { 
								OR = {
									leads_faction = faction_feudal_emperor
									leads_faction = faction_feudal_king
									leads_faction = faction_feudal_duke
								}							
							}
							OR = {
								in_faction = faction_feudal_emperor
								in_faction = faction_feudal_king
								in_faction = faction_feudal_duke
							}	
						}
						AND = {
							ROOT = { 
								OR = {
									leads_faction = faction_republican_emperor
									leads_faction = faction_republican_king
									leads_faction = faction_republican_duke
								}							
							}
							OR = {
								in_faction = faction_republican_emperor
								in_faction = faction_republican_king
								in_faction = faction_republican_duke
							}	
						}
						AND = {
							ROOT = { 
								OR = {
									leads_faction = faction_religious_emperor
									leads_faction = faction_religious_king
									leads_faction = faction_religious_duke
								}							
							}
							OR = {
								in_faction = faction_religious_emperor
								in_faction = faction_religious_king
								in_faction = faction_religious_duke
							}	
						}
						AND = {
							ROOT = { 
								OR = {
									leads_faction = faction_court_emperor
									leads_faction = faction_court_king
									leads_faction = faction_court_duke
								}							
							}
							OR = {
								in_faction = faction_court_emperor
								in_faction = faction_court_king
								in_faction = faction_court_duke
							}	
						}					
					}
				}
				opinion = { 
					who = ROOT
					modifier = pompous
					months = 24
				}
			}
		}
	}
}

# Angry faction encourages separatism
character_event = {
	id = 1900510
	picture = "GFX_evt_council"

	trigger = {
		liege = { independent = yes }
		OR = {
			AND = {
				OR = {
					leads_faction = faction_feudal_emperor
					leads_faction = faction_feudal_king
					leads_faction = faction_feudal_duke
				}	
				liege = { 
					OR = {
						has_character_flag = faction_feudal_angry
						has_character_flag = faction_feudal_unhappy
					}
				}
			}
			AND = {
				OR = {
					leads_faction = faction_religious_emperor
					leads_faction = faction_religious_king
					leads_faction = faction_religious_duke
				}
				liege = { 
					OR = {
						has_character_flag = faction_religious_angry
						has_character_flag = faction_religious_unhappy
					}
				}
			}
			AND = {
				OR = {
					leads_faction = faction_republican_emperor
					leads_faction = faction_republican_king
					leads_faction = faction_republican_duke
				}
				liege = { 
					OR = {
						has_character_flag = faction_republican_angry
						has_character_flag = faction_republican_unhappy
					}
				}
			}
			AND = {
				OR = {
					leads_faction = faction_court_emperor
					leads_faction = faction_court_king
					leads_faction = faction_court_duke
				}
				liege = { 
					OR = {
						has_character_flag = faction_court_angry
						has_character_flag = faction_court_unhappy
					}
				}
			}			
		}
		OR = {
			NOT = { has_character_flag = faction_separatism }
			had_character_flag = {
				flag = faction_separatism
				days = 730
			}
		}
	}
	
	immediate = {
		set_character_flag = faction_separatism
	}
	
	mean_time_to_happen = {
		months = 120
		modifier = {
			factor = 100.0
			liege = {
				OR = {
					has_landed_title = e_il-khanate
					has_landed_title = e_golden_horde
				}
				religion_group = eastern_pagan
			}
		}		
		modifier = {
			factor = 0.75
			liege = {
				NOT = { religion_group = christian }
			}
		}
		modifier = {
			factor = 0.33
			OR = {
				AND = {
					OR = {
						leads_faction = faction_feudal_emperor
						leads_faction = faction_feudal_king
						leads_faction = faction_feudal_duke
					}	
					liege = { 
						has_character_flag = faction_feudal_angry 
					}
				}
				AND = {
					OR = {
						leads_faction = faction_religious_emperor
						leads_faction = faction_religious_king
						leads_faction = faction_religious_duke
					}
					liege = { 
						has_character_flag = faction_religious_angry 
					}
				}
				AND = {
					OR = {
						leads_faction = faction_republican_emperor
						leads_faction = faction_republican_king
						leads_faction = faction_republican_duke
					}
					liege = { 
						has_character_flag = faction_republican_angry 
					}
				}
				AND = {
					OR = {
						leads_faction = faction_court_emperor
						leads_faction = faction_court_king
						leads_faction = faction_court_duke
					}
					liege = { 
						has_character_flag = faction_court_angry
					}
				}			
			}
		}
		modifier = {
			factor = 3.0
			OR = {
				leads_faction = faction_court_emperor
				leads_faction = faction_court_king
				leads_faction = faction_court_duke
			}
		}
		modifier = {
			factor = 2.0
			OR = {
				leads_faction = faction_religious_emperor
				leads_faction = faction_religious_king
				leads_faction = faction_religious_duke
			}
		}		
	}
	
	desc = "EVTDESC1900510"
	
	option = {
		name = "EVTOPTB1900510"
		random_list = {
			10 = {
				liege = {
					any_vassal = {
						limit = { higher_tier_than = baron distance = { who = PREV distance = 100 } }
						change_variable = { which = "separatist_sentiment" value = 1 }
					}								
				}				
			}
			10 = {
				liege = {
					any_vassal = {
						limit = { higher_tier_than = baron distance = { who = PREV distance = 100 } }
						change_variable = { which = "separatist_sentiment" value = 2 }
					}								
				}				
			}	
			10 = {
				liege = {
					any_vassal = {
						limit = { higher_tier_than = baron distance = { who = PREV distance = 100 } }
						change_variable = { which = "separatist_sentiment" value = 3 }
					}								
				}				
			}	
			10 = {
				liege = {
					any_vassal = {
						limit = { higher_tier_than = baron distance = { who = PREV distance = 100 } }
						change_variable = { which = "separatist_sentiment" value = 4 }
					}								
				}				
			}	
			10 = {
				liege = {
					any_vassal = {
						limit = { higher_tier_than = baron distance = { who = PREV distance = 100 } }
						change_variable = { which = "separatist_sentiment" value = 5 }
					}								
				}				
			}
			10 = {
				liege = {
					any_vassal = {
						limit = { higher_tier_than = baron distance = { who = PREV distance = 200 } }
						change_variable = { which = "separatist_sentiment" value = 1 }
					}								
				}				
			}
			10 = {
				liege = {
					any_vassal = {
						limit = { higher_tier_than = baron distance = { who = PREV distance = 200 } }
						change_variable = { which = "separatist_sentiment" value = 2 }
					}								
				}				
			}	
			10 = {
				liege = {
					any_vassal = {
						limit = { higher_tier_than = baron distance = { who = PREV distance = 200 } }
						change_variable = { which = "separatist_sentiment" value = 3 }
					}								
				}				
			}	
			10 = {
				liege = {
					any_vassal = {
						limit = { higher_tier_than = baron distance = { who = PREV distance = 200 } }
						change_variable = { which = "separatist_sentiment" value = 4 }
					}								
				}				
			}	
			10 = {
				liege = {
					any_vassal = {
						limit = { higher_tier_than = baron distance = { who = PREV distance = 200 } }
						change_variable = { which = "separatist_sentiment" value = 5 }
					}								
				}				
			}	
			10 = {
				liege = {
					any_vassal = {
						limit = { higher_tier_than = baron distance = { who = PREV distance = 300 } }
						change_variable = { which = "separatist_sentiment" value = 1 }
					}								
				}				
			}
			10 = {
				liege = {
					any_vassal = {
						limit = { higher_tier_than = baron distance = { who = PREV distance = 300 } }
						change_variable = { which = "separatist_sentiment" value = 2 }
					}								
				}				
			}	
			10 = {
				liege = {
					any_vassal = {
						limit = { higher_tier_than = baron distance = { who = PREV distance = 300 } }
						change_variable = { which = "separatist_sentiment" value = 3 }
					}								
				}				
			}	
			10 = {
				liege = {
					any_vassal = {
						limit = { higher_tier_than = baron distance = { who = PREV distance = 300 } }
						change_variable = { which = "separatist_sentiment" value = 4 }
					}								
				}				
			}	
			10 = {
				liege = {
					any_vassal = {
						limit = { higher_tier_than = baron distance = { who = PREV distance = 300 } }
						change_variable = { which = "separatist_sentiment" value = 5 }
					}								
				}				
			}			
		}
	}
}

# Separatist faction goes to war
character_event = {
	id = 1900520
	picture = "GFX_evt_battle"
	border = GFX_event_normal_frame_war
	
	trigger = {
		ai = yes
		leads_faction = faction_separatist
		faction_power = 
		{
			faction = faction_separatist
			power = 0.75
		}
		any_faction_backer = {
			faction = faction_separatist
			NOT = { character = ROOT }
		}		
	}
	
	mean_time_to_happen = {
		months = 60
		modifier = {
			factor = 0.5
			faction_power = 
			{
				faction = faction_separatist
				power = 1.0
			}
		}
		modifier = {
			factor = 0.5
			faction_power = 
			{
				faction = faction_separatist
				power = 2.0
			}
		}
		modifier = {
			factor = 0.5
			faction_power = 
			{
				faction = faction_separatist
				power = 3.0
			}
		}
		modifier = {
			factor = 0.5
			faction_power = 
			{
				faction = faction_separatist
				power = 4.0
			}
		}		
	}
	
	desc = "EVTDESC1900520"
	
	option = {
		name = "EVTOPTA1900520"
		hidden_tooltip = {
			add_trait = rebel hidden_tooltip = { opinion = { who = LIEGE modifier = revolting_against years = 100 } }	
			any_faction_backer = {
				faction = faction_separatist
				add_trait = rebel hidden_tooltip = { opinion = { who = LIEGE modifier = revolting_against years = 100 } }					
			}
		}			
		liege = {
			set_character_flag = faction_separatist_war
			reverse_war = {
				target = ROOT
				casus_belli = cb_faction_independence
				faction = faction_separatist
			}			
		}
	}
}

# Pretender faction goes to war
character_event = {
	id = 1900540
	picture = "GFX_evt_battle"
	border = GFX_event_normal_frame_war
	
	trigger = {
		ai = yes
		leads_faction = faction_pretender
		liege = {
			NOT = {
				has_character_flag = faction_feudal_war
				has_character_flag = faction_republican_war
				has_character_flag = faction_religious_war
				has_character_flag = faction_court_war
				has_character_flag = faction_separatist_war
				has_character_flag = faction_pretender_war				
			}
		}
		faction_power = 
		{
			faction = faction_pretender
			power = 0.75
		}
		any_faction_backer = {
			faction = faction_pretender
			NOT = { character = ROOT }
		}		
	}
	
	mean_time_to_happen = {
		months = 60	
		modifier = {
			factor = 0.5
			faction_power = 
			{
				faction = faction_pretender
				power = 1.0
			}
		}
		modifier = {
			factor = 0.5
			faction_power = 
			{
				faction = faction_pretender
				power = 2.0
			}
		}
		modifier = {
			factor = 0.5
			faction_power = 
			{
				faction = faction_pretender
				power = 3.0
			}
		}
		modifier = {
			factor = 0.5
			faction_power = 
			{
				faction = faction_pretender
				power = 4.0
			}
		}		
	}
	
	desc = "EVTDESC1900540"
	
	option = {
		name = "EVTOPTA1900540"
		hidden_tooltip = {
			add_trait = rebel hidden_tooltip = { opinion = { who = LIEGE modifier = revolting_against years = 100 } }	
			any_faction_backer = {
				faction = faction_pretender
				add_trait = rebel hidden_tooltip = { opinion = { who = LIEGE modifier = revolting_against years = 100 } }					
			}
		}			
		liege = {
			set_character_flag = faction_pretender_war 		
			ROOT = {
				if = {
					limit = {
						supported_claimant = {
							character = ROOT
						}
					}					
					faction_pretender = { # The target (title) of the faction
						reverse_war = {
							target = ROOT
							casus_belli = claim_on_liege_plot
							faction = faction_pretender
						}
					}
				}
				
				if = {
					limit = {
						NOT = { 
							supported_claimant = {
								character = ROOT
							}
						}
					}
					faction_pretender = { # The target (title) of the faction
						reverse_war = {
							target = ROOT
							casus_belli = other_claim_on_liege_plot
							faction = faction_pretender
						}
					}
				}		
			}
			#any faction might join
			hidden_tooltip = {
				any_vassal = {
					limit = {
						OR = {
							leads_faction = faction_feudal_emperor
							leads_faction = faction_feudal_king
							leads_faction = faction_feudal_duke					
						}
					}
					character_event = { id = 2000000 }
				}					
				any_vassal = {
					limit = {
						OR = {
							leads_faction = faction_court_emperor
							leads_faction = faction_court_king
							leads_faction = faction_court_duke					
						}
					}
					character_event = { id = 2000010 }
				}			
				any_vassal = {
					limit = { 
						OR = {
							leads_faction = faction_religious_emperor
							leads_faction = faction_religious_king
							leads_faction = faction_religious_duke					
						}
					}
					character_event = { id = 2000020 }
				}
				any_vassal = {
					limit = {
						OR = {
							leads_faction = faction_republican_emperor
							leads_faction = faction_republican_king
							leads_faction = faction_republican_duke					
						}
					}
					character_event = { id = 2000030 }
				}
				any_vassal = { character_event = { id = 2000040 } }		
			}				
		}
	}
}

#Join/leave faction events
character_event = {
	id = 1910000
	
	trigger = {
		ai = yes
		is_ruler = yes
		independent = no
		OR = { higher_tier_than = baron is_patrician = yes }
		NOT = { has_character_flag = faction_feudal_supporter }
		NOT = { has_character_flag = faction_court_supporter }
		NOT = { has_character_flag = faction_republican_supporter }
		NOT = { has_character_flag = faction_religious_supporter }
		NOT = {
			liege = {
				current_heir = { character = ROOT }
			}
		}
		liege = { higher_tier_than = duke }	
		is_feudal = yes
	}
	
	desc = "AI_EVENT"
	
	mean_time_to_happen = {
		months = 6	
		modifier = {
			factor = 1.15
			always = yes
		}
		modifier = {
			factor = 1.25
			religion_group = muslim
		}		
		modifier = {
			factor = 0.5
			trait = ambitious
		}
		modifier = {
			factor = 0.75
			trait = proud
		}
		modifier = {
			factor = 0.9
			trait = arbitrary
		}
		modifier = {
			factor = 0.9
			trait = greedy
		}			
		modifier = {
			factor = 4
			trait = humble
		}			
		modifier = {
			factor = 100
			trait = content
		}	
		modifier = {
			factor = 0.9
			trait = hunter
		}
		modifier = {
			factor = 0.9
			trait = diligent
		}			
		modifier = {
			factor = 0.9
			trait = duelist
		}
		modifier = {
			factor = 0.9
			trait = envious
		}
		modifier = {
			factor = 1.5
			trait = kind
		}
		modifier = {
			factor = 0.9
			trait = wroth
		}
		modifier = {
			factor = 0.9
			trait = brave
		}
		modifier = {
			factor = 2.0
			trait = craven
		}		
		modifier = {
			factor = 0.9
			trait = cruel
		}
	}
	
	option = {
		name = "OK"
		set_character_flag = faction_feudal_supporter
	}
}

character_event = {
	id = 1910001
	
	trigger = {
		ai = yes
		is_ruler = yes
		independent = no
		OR = { higher_tier_than = baron is_patrician = yes }
		NOT = { has_character_flag = faction_feudal_supporter }
		NOT = { has_character_flag = faction_court_supporter }
		NOT = { has_character_flag = faction_republican_supporter }
		NOT = { has_character_flag = faction_religious_supporter }
		NOT = {
			liege = {
				current_heir = { character = ROOT }
			}
		}		
		liege = { higher_tier_than = count }
		OR = {
			is_patrician = yes
			is_republic = yes
		}
	}
	
	desc = "AI_EVENT"
	
	mean_time_to_happen = {
		months = 6
		modifier = {
			factor = 1.15
			always = yes
		}
		modifier = {
			factor = 0.25
			liege = { is_republic = no }
		}
		modifier = {
			factor = 5
			NOT = {
				#court faction already exists and has backing
				liege = {
					any_vassal = {
						NOT = {
							leads_faction = faction_court_emperor
							leads_faction = faction_court_king
							leads_faction = faction_court_duke			
						}			
						OR = {
							in_faction = faction_court_emperor
							in_faction = faction_court_king
							in_faction = faction_court_duke
						}
					}
				}
			}
		}
		modifier = {
			factor = 0.5
			trait = ambitious
		}
		modifier = {
			factor = 0.5
			trait = greedy
		}
		modifier = {
			factor = 2
			trait = charitable
		}		
		modifier = {
			factor = 2
			trait = humble
		}
		modifier = {
			factor = 0.9
			trait = diligent
		}			
		modifier = {
			factor = 0.9
			trait = envious
		}
		modifier = {
			factor = 1.5
			trait = kind
		}		
	}
	
	option = {
		name = "OK"
		set_character_flag = faction_republican_supporter
	}
}

character_event = {
	id = 1910002
	
	trigger = {
		ai = yes
		is_ruler = yes
		independent = no
		OR = { higher_tier_than = baron is_patrician = yes }
		NOT = { has_character_flag = faction_feudal_supporter }
		NOT = { has_character_flag = faction_court_supporter }
		NOT = { has_character_flag = faction_republican_supporter }
		NOT = { has_character_flag = faction_religious_supporter }
		NOT = {
			liege = {
				current_heir = { character = ROOT }
			}
		}		
		liege = { higher_tier_than = count }		
	}
	
	desc = "AI_EVENT"
	
	mean_time_to_happen = {
		months = 6
		modifier = {
			factor = 1.5
			always = yes
		}
		modifier = {
			factor = 5
			NOT = {
				#feudal faction already exists and has backing
				liege = {
					OR = {
						lower_tier_than = king
						any_vassal = {
							NOT = {
								leads_faction = faction_feudal_emperor
								leads_faction = faction_feudal_king
								leads_faction = faction_feudal_duke					
							}
							OR = {
								in_faction = faction_feudal_emperor
								in_faction = faction_feudal_king
								in_faction = faction_feudal_duke
							}
						}
					}
				}
				#court faction already exists and has backing
				liege = {
					any_vassal = {
						NOT = {
							leads_faction = faction_court_emperor
							leads_faction = faction_court_king
							leads_faction = faction_court_duke			
						}			
						OR = {
							in_faction = faction_court_emperor
							in_faction = faction_court_king
							in_faction = faction_court_duke
						}
					}
				}				
			}
		}	
		modifier = {
			factor = 0.9
			rightful_religious_head_scope = {
				is_alive = yes
				reverse_opinion = { who = ROOT value = 75 }
			}
		}
		modifier = {
			factor = 0.9
			rightful_religious_head_scope = {
				is_alive = yes
				reverse_opinion = { who = ROOT value = 50 }
			}
		}
		modifier = {
			factor = 0.9
			rightful_religious_head_scope = {
				is_alive = yes
				reverse_opinion = { who = ROOT value = 25 }
			}
		}		
		modifier = {
			factor = 1.25
			rightful_religious_head_scope = {
				is_alive = yes
				NOT = { reverse_opinion = { who = ROOT value = 0 } }
			}
		}		
		modifier = {
			factor = 1.25
			rightful_religious_head_scope = {
				is_alive = yes
				NOT = { reverse_opinion = { who = ROOT value = -25 } }
			}
		}	
		modifier = {
			factor = 1.25
			rightful_religious_head_scope = {
				is_alive = yes
				NOT = { reverse_opinion = { who = ROOT value = -50 } }
			}
		}	
		modifier = {
			factor = 2
			NOT = {
				OR = {
					trait = zealous
					is_theocracy = yes
					trait = detached_priest
					trait = martial_cleric
					trait = scholarly_theologian
					trait = mastermind_theologian
				}
			}
		}
		modifier = {
			factor = 100
			trait = cynical
		}
		modifier = {
			factor = 10
			trait = hedonist
		}
		modifier = {
			factor = 0.5
			trait = celibate
		}		
		modifier = {
			factor = 4
			trait = kinslayer
		}
		modifier = {
			factor = 4
			trait = impaler
		}	
		modifier = {
			factor = 4
			trait = homosexual
		}		
		modifier = {
			factor = 2
			trait = lustful
		}			
		modifier = {
			factor = 0.9
			trait = shy
		}
		modifier = {
			factor = 0.9
			trait = chaste
		}	
		modifier = {
			factor = 0.9
			trait = scholar
		}	
		modifier = {
			factor = 0.9
			trait = faqih
		}
		modifier = {
			factor = 0.9
			trait = hafiz
		}		
		modifier = {
			factor = 0.9
			trait = temperate
		}
		modifier = {
			factor = 0.9
			trait = charitable
		}			
		modifier = {
			factor = 0.33
			OR = {
				trait = detached_priest
				trait = martial_cleric
				trait = scholarly_theologian
				trait = mastermind_theologian
			}
		}
		modifier = {
			factor = 0.9
			trait = hajjaj
		}
		modifier = {
			factor = 0.9
			OR = {
				trait = crusader
				trait = mujahid
			}
		}
		modifier = {
			factor = 0.9
			trait = mystic
		}
		modifier = {
			factor = 0.25
			trait = zealous
		}
		modifier = {
			factor = 0.33
			is_theocracy = yes
		}
		modifier = {
			factor = 0.75
			religion_group = muslim
		}
		modifier = {
			factor = 100
			NOT = { piety = 0 }
		}		
		modifier = {
			factor = 0.5
			piety = 100
		}			
		modifier = {
			factor = 0.5
			piety = 250
		}	
		modifier = {
			factor = 0.5
			piety = 500
		}	
		modifier = {
			factor = 0.5
			piety = 750
		}
		modifier = {
			factor = 0.5
			piety = 1000
		}			
	}
	
	option = {
		name = "OK"
		set_character_flag = faction_religious_supporter
	}
}

character_event = {
	id = 1910003
	
	trigger = {
		ai = yes
		is_ruler = yes
		independent = no
		OR = { higher_tier_than = baron is_patrician = yes }
		NOT = { has_character_flag = faction_feudal_supporter }
		NOT = { has_character_flag = faction_court_supporter }
		NOT = { has_character_flag = faction_republican_supporter }
		NOT = { has_character_flag = faction_religious_supporter }
		NOT = {
			liege = {
				current_heir = { character = ROOT }
			}
		}		
		liege = { higher_tier_than = count }
	}
	
	desc = "AI_EVENT"
	
	mean_time_to_happen = {
		months = 6	
		modifier = {
			factor = 1.33
			always = yes
		}
		modifier = {
			factor = 5
			NOT = {
				#feudal faction already exists and has backing
				liege = {
					OR = {
						lower_tier_than = king
						any_vassal = {
							NOT = {
								leads_faction = faction_feudal_emperor
								leads_faction = faction_feudal_king
								leads_faction = faction_feudal_duke					
							}
							OR = {
								in_faction = faction_feudal_emperor
								in_faction = faction_feudal_king
								in_faction = faction_feudal_duke
							}
						}
					}
				}				
			}
		}		
		modifier = {
			factor = 0.75
			trait = humble
		}	
		modifier = {
			factor = 0.75
			trait = eunuch
		}			
		modifier = {
			factor = 0.35
			trait = content
		}
		modifier = {
			factor = 0.9
			trait = gregarious
		}
		modifier = {
			factor = 100
			trait = ambitious
		}
		modifier = {
			factor = 2
			trait = brave
		}
		modifier = {
			factor = 0.9
			trait = craven
		}				
		modifier = {
			factor = 2.0
			trait = proud
		}	
		modifier = {
			factor = 1.5
			trait = ugly
		}		
		modifier = {
			factor = 0.75
			trait = fair
		}
		modifier = {
			factor = 0.9
			trait = falconer
		}			
		modifier = {
			factor = 0.9
			trait = poet
		}
		modifier = {
			factor = 0.9
			trait = lustful
		}
		modifier = {
			factor = 0.9
			trait = hedonist
		}
		modifier = {
			factor = 0.9
			trait = gluttonous
		}
		modifier = {
			factor = 0.9
			trait = slothful
		}				
		modifier = {
			factor = 0.9
			OR = {
				trait = charismatic_negotiator
				trait = fortune_builder
				trait = scholarly_theologian
				trait = skilled_tactician
				trait = intricate_webweaver
			}
		}			
		modifier = {
			factor = 0.75
			OR = {
				trait = grey_eminence
				trait = midas_touched
				trait = mastermind_theologian
				trait = brilliant_strategist
				trait = elusive_shadow
			}
		}		
		modifier = {
			factor = 0.5
			OR = {
				has_job_title = job_chancellor
				has_job_title = job_treasurer
				has_job_title = job_spymaster
				has_job_title = job_marshal
				has_job_title = job_spiritual
			}
		}		
	}
	
	option = {
		name = "OK"
		set_character_flag = faction_court_supporter
	}
}

character_event = {
	id = 1910010
	
	trigger = {
		ai = yes
		war = no
		is_ruler = yes
		independent = no
		age = 16
		NOT = {
			leads_faction = faction_feudal_emperor
			leads_faction = faction_feudal_king
			leads_faction = faction_feudal_duke
			leads_faction = faction_republican_emperor
			leads_faction = faction_republican_king
			leads_faction = faction_republican_duke
			leads_faction = faction_religious_emperor
			leads_faction = faction_religious_king
			leads_faction = faction_religious_duke
			leads_faction = faction_court_emperor
			leads_faction = faction_court_king
			leads_faction = faction_court_duke			
		}
		OR = {
			has_character_flag = faction_feudal_supporter
			has_character_flag = faction_court_supporter
			has_character_flag = faction_republican_supporter
			has_character_flag = faction_religious_supporter
		}
	}
		
	desc = "AI_EVENT"

	mean_time_to_happen = {
		months = 240
		modifier = {
			factor = 2
			age = 30
		}
		modifier = {
			factor = 2
			age = 40
		}	
		modifier = {
			factor = 2
			age = 50
		}	
		modifier = {
			factor = 0.01
			liege = {
				current_heir = { character = ROOT }
			}
		}
		modifier = {
			factor = 0.01
			has_character_flag = faction_feudal_supporter
			OR = {
				is_feudal = no
				liege = { lower_tier_than = king }
				trait = content
			}
		}
		modifier = {
			factor = 0.01
			has_character_flag = faction_republican_supporter
			OR = {
				AND = {
					is_patrician = no
					is_republic = no
				}
				trait = content
			}
		}
		modifier = {
			factor = 0.01
			has_character_flag = faction_religious_supporter
			OR = {
				trait = cynical
				NOT = { piety = 0 }
			}
		}		
	}
	
	option = {
		name = "OK"		
		clr_character_flag = faction_feudal_supporter
		clr_character_flag = faction_court_supporter
		clr_character_flag = faction_republican_supporter
		clr_character_flag = faction_religious_supporter
	}
}